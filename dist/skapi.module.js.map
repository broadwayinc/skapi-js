{"version":3,"file":"skapi.module.js","mappings":"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","sources":["webpack://skapi-js/./node_modules/base64-js/index.js","webpack://skapi-js/./node_modules/buffer/index.js","webpack://skapi-js/./node_modules/crypto-js/core.js","webpack://skapi-js/./node_modules/crypto-js/enc-base64.js","webpack://skapi-js/./node_modules/crypto-js/hmac-sha256.js","webpack://skapi-js/./node_modules/crypto-js/hmac.js","webpack://skapi-js/./node_modules/crypto-js/lib-typedarrays.js","webpack://skapi-js/./node_modules/crypto-js/sha256.js","webpack://skapi-js/./node_modules/ieee754/index.js","webpack://skapi-js/./node_modules/isarray/index.js","webpack://skapi-js/./node_modules/isomorphic-unfetch/browser.js","webpack://skapi-js/./node_modules/js-cookie/src/js.cookie.js","webpack://skapi-js/./node_modules/unfetch/dist/unfetch.module.js","webpack://skapi-js/webpack/bootstrap","webpack://skapi-js/webpack/runtime/compat get default export","webpack://skapi-js/webpack/runtime/define property getters","webpack://skapi-js/webpack/runtime/global","webpack://skapi-js/webpack/runtime/hasOwnProperty shorthand","webpack://skapi-js/webpack/runtime/make namespace object","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/BigInteger.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/DateHelper.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/Platform/index.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/UserAgent.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/Client.js","webpack://skapi-js/./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","webpack://skapi-js/./js/skapi_error.js","webpack://skapi-js/./js/utils.js","webpack://skapi-js/./js/decorators.js","webpack://skapi-js/./js/skapi.js"],"sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = self.fetch || (self.fetch = require('unfetch').default || require('unfetch'));\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","export default function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||\"get\",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+\",\"+t:t}),t(a())},s.onerror=r,s.withCredentials=\"include\"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)})}\n//# sourceMappingURL=unfetch.module.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n/** @class */\nvar AuthenticationDetails = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    var _ref = data || {},\n      ValidationData = _ref.ValidationData,\n      Username = _ref.Username,\n      Password = _ref.Password,\n      AuthParameters = _ref.AuthParameters,\n      ClientMetadata = _ref.ClientMetadata;\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.clientMetadata = ClientMetadata || {};\n    this.username = Username;\n    this.password = Password;\n  }\n\n  /**\n   * @returns {string} the record's username\n   */\n  var _proto = AuthenticationDetails.prototype;\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n\n  /**\n   * @returns {string} the record's password\n   */;\n  _proto.getPassword = function getPassword() {\n    return this.password;\n  }\n\n  /**\n   * @returns {Array} the record's validationData\n   */;\n  _proto.getValidationData = function getValidationData() {\n    return this.validationData;\n  }\n\n  /**\n   * @returns {Array} the record's authParameters\n   */;\n  _proto.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  }\n\n  /**\n   * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n   */;\n  _proto.getClientMetadata = function getClientMetadata() {\n    return this.clientMetadata;\n  };\n  return AuthenticationDetails;\n}();\nexport { AuthenticationDetails as default };","var crypto;\n\n// Native crypto from window (Browser)\nif (typeof window !== 'undefined' && window.crypto) {\n  crypto = window.crypto;\n}\n\n// Native (experimental IE 11) crypto from window (Browser)\nif (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n  crypto = window.msCrypto;\n}\n\n// Native crypto from global (NodeJS)\nif (!crypto && typeof global !== 'undefined' && global.crypto) {\n  crypto = global.crypto;\n}\n\n// Native crypto import via require (NodeJS)\nif (!crypto && typeof require === 'function') {\n  try {\n    crypto = require('crypto');\n  } catch (err) {}\n}\n\n/*\n * Cryptographically secure pseudorandom number generator\n * As Math.random() is cryptographically not safe to use\n */\nexport default function cryptoSecureRandomInt() {\n  if (crypto) {\n    // Use getRandomValues method (Browser)\n    if (typeof crypto.getRandomValues === 'function') {\n      try {\n        return crypto.getRandomValues(new Uint32Array(1))[0];\n      } catch (err) {}\n    }\n\n    // Use randomBytes method (NodeJS)\n    if (typeof crypto.randomBytes === 'function') {\n      try {\n        return crypto.randomBytes(4).readInt32LE();\n      } catch (err) {}\n    }\n  }\n  throw new Error('Native crypto module could not be used to get secure random number.');\n}","import cryptoSecureRandomInt from './cryptoSecureRandomInt';\n\n/**\n * Hex encoding strategy.\n * Converts a word array to a hex string.\n * @param {WordArray} wordArray The word array.\n * @return {string} The hex string.\n * @static\n */\nfunction hexStringify(wordArray) {\n  // Shortcuts\n  var words = wordArray.words;\n  var sigBytes = wordArray.sigBytes;\n\n  // Convert\n  var hexChars = [];\n  for (var i = 0; i < sigBytes; i++) {\n    var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n    hexChars.push((bite >>> 4).toString(16));\n    hexChars.push((bite & 0x0f).toString(16));\n  }\n  return hexChars.join('');\n}\nvar WordArray = /*#__PURE__*/function () {\n  function WordArray(words, sigBytes) {\n    words = this.words = words || [];\n    if (sigBytes != undefined) {\n      this.sigBytes = sigBytes;\n    } else {\n      this.sigBytes = words.length * 4;\n    }\n  }\n  var _proto = WordArray.prototype;\n  _proto.random = function random(nBytes) {\n    var words = [];\n    for (var i = 0; i < nBytes; i += 4) {\n      words.push(cryptoSecureRandomInt());\n    }\n    return new WordArray(words, nBytes);\n  };\n  _proto.toString = function toString() {\n    return hexStringify(this);\n  };\n  return WordArray;\n}();\nexport { WordArray as default };","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\n\nexport default BigInteger;\n\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n\n// (public) Constructor\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n}\n\n// return new, unset BigInteger\nfunction nbi() {\n  return new BigInteger(null);\n}\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe;\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n    xh = x >> 15;\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n    xh = x >> 14;\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n  return c;\n}\nvar inBrowser = typeof navigator !== 'undefined';\nif (inBrowser && j_lm && navigator.appName == 'Microsoft Internet Explorer') {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != 'Netscape') {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz';\nvar BI_RC = new Array();\nvar rr, vv;\nrr = '0'.charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}\nrr = 'a'.charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\nrr = 'A'.charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\nfunction int2char(n) {\n  return BI_RM.charAt(n);\n}\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }\n  r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) {\n  var r = nbi();\n  r.fromInt(i);\n  return r;\n}\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n    mi = false,\n    sh = 0;\n  while (--i >= 0) {\n    var x = intAt(s, i);\n    if (x < 0) {\n      if (s.charAt(i) == '-') mi = true;\n      continue;\n    }\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if (this.s < 0) return '-' + this.negate().toString(b);\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  var km = (1 << k) - 1,\n    d,\n    m = false,\n    r = '',\n    i = this.t;\n  var p = this.DB - i * this.DB % k;\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n  return m ? r : '0';\n}\n\n// (public) -this\nfunction bnNegate() {\n  var r = nbi();\n  BigInteger.ZERO.subTo(this, r);\n  return r;\n}\n\n// (public) |this|\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n}\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }\n  return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1,\n    t;\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n  var i;\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }\n  for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n  r.t = this.t + n;\n  r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }\n  r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n    c = this.s << bs & this.DM,\n    i;\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n  r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n  var i = 0,\n    c = 0,\n    m = Math.min(a.t, this.t);\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n  if (a.t < this.t) {\n    c -= a.s;\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  } else {\n    c += this.s;\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n    y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n  for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }\n  r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n  for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n  if (r == null) r = nbi();\n  var y = nbi(),\n    ts = this.s,\n    ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]);\n  // normalize modulus\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n    d2 = (1 << this.F1) / yt,\n    e = 1 << this.F2;\n  var i = r.t,\n    j = i - ys,\n    t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y);\n  // \"negative\" y so we can replace sub with am later\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }\n  while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r);\n  // Denormalize remainder\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n}\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3;\n  // y == 1/x mod 2^2\n  y = y * (2 - (x & 0xf) * y) & 0xf;\n  // y == 1/x mod 2^4\n  y = y * (2 - (x & 0xff) * y) & 0xff;\n  // y == 1/x mod 2^8\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff;\n  // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = y * (2 - x * y % this.DV) % this.DV;\n  // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return y > 0 ? this.DV - y : -y;\n}\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n}\n\n// (protected) r = this + a\nfunction bnpAddTo(a, r) {\n  var i = 0,\n    c = 0,\n    m = Math.min(a.t, this.t);\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n  if (a.t < this.t) {\n    c += a.s;\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  } else {\n    c += this.s;\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += a.s;\n  }\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) {\n  var r = nbi();\n  this.addTo(a, r);\n  return r;\n}\n\n// (public) this - a\nfunction bnSubtract(a) {\n  var r = nbi();\n  this.subTo(a, r);\n  return r;\n}\n\n// (public) this * a\nfunction bnMultiply(a) {\n  var r = nbi();\n  this.multiplyTo(a, r);\n  return r;\n}\n\n// (public) this / a\nfunction bnDivide(a) {\n  var r = nbi();\n  this.divRemTo(a, r, null);\n  return r;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }\n  for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n    // propagate carry\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n  this.reduce(r);\n}\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n  this.reduce(r);\n}\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n    k,\n    r = nbv(1),\n    z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6;\n\n  // precomputation\n  var g = new Array(),\n    n = 3,\n    k1 = k - 1,\n    km = (1 << k) - 1;\n  g[1] = z.convert(this);\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n  var j = e.t - 1,\n    w,\n    is1 = true,\n    r2 = nbi(),\n    t;\n  i = nbits(e[j]) - 1;\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n    n = k;\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport WordArray from './utils/WordArray';\n\n/**\n * Returns a Buffer with a sequence of random nBytes\n *\n * @param {number} nBytes\n * @returns {Buffer} fixed-length sequence of random bytes\n */\n\nfunction randomBytes(nBytes) {\n  return Buffer.from(new WordArray().random(nBytes).toString(), 'hex');\n}\nimport BigInteger from './BigInteger';\n\n/**\n * Tests if a hex string has it most significant bit set (case-insensitive regex)\n */\nvar HEX_MSB_REGEX = /^[89a-f]/i;\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n\n/** @class */\nvar AuthenticationHelper = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash(\"\" + this.padHex(this.N) + this.padHex(this.g)), 16);\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n    this.poolName = PoolName;\n  }\n\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n  var _proto = AuthenticationHelper.prototype;\n  _proto.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  }\n\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */;\n  _proto.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  }\n\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */;\n  _proto.generateRandomSmallA = function generateRandomSmallA() {\n    // This will be interpreted as a postive 128-bit integer\n    var hexRandom = randomBytes(128).toString('hex');\n    var randomBigInt = new BigInteger(hexRandom, 16);\n\n    // There is no need to do randomBigInt.mod(this.N - 1) as N (3072-bit) is > 128 bytes (1024-bit)\n\n    return randomBigInt;\n  }\n\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */;\n  _proto.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  }\n\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */;\n  _proto.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  }\n\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */;\n  _proto.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  }\n\n  /**\n   * @returns {string} Value used to verify devices.\n   */;\n  _proto.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  }\n\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */;\n  _proto.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n    this.randomPassword = this.generateRandomString();\n    var combinedString = \"\" + deviceGroupKey + username + \":\" + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n    var hexRandom = randomBytes(16).toString('hex');\n\n    // The random hex will be unambiguously represented as a postive integer\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  }\n\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */;\n  _proto.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n      callback(null, A);\n    });\n  }\n\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */;\n  _proto.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n    return finalU;\n  }\n\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */;\n  _proto.hash = function hash(buf) {\n    var str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n    var hashHex = SHA256(str).toString();\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  }\n\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */;\n  _proto.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  }\n\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */;\n  _proto.computehkdf = function computehkdf(ikm, salt) {\n    var infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n    var ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n    var saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n    var prk = HmacSHA256(ikmWordArray, saltWordArray);\n    var hmac = HmacSHA256(infoBitsWordArray, prk);\n    return Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n  }\n\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */;\n  _proto.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n    var usernamePassword = \"\" + this.poolName + username + \":\" + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue), 'hex'));\n      callback(null, hkdf);\n    });\n  }\n\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  }\n\n  /**\n   * Return constant newPasswordRequiredChallengeUserAttributePrefix\n   * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n   */;\n  _proto.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  }\n\n  /**\n   * Returns an unambiguous, even-length hex string of the two's complement encoding of an integer.\n   *\n   * It is compatible with the hex encoding of Java's BigInteger's toByteArray(), wich returns a\n   * byte array containing the two's-complement representation of a BigInteger. The array contains\n   * the minimum number of bytes required to represent the BigInteger, including at least one sign bit.\n   *\n   * Examples showing how ambiguity is avoided by left padding with:\n   * \t\"00\" (for positive values where the most-significant-bit is set)\n   *  \"FF\" (for negative values where the most-significant-bit is set)\n   *\n   * padHex(bigInteger.fromInt(-236))  === \"FF14\"\n   * padHex(bigInteger.fromInt(20))    === \"14\"\n   *\n   * padHex(bigInteger.fromInt(-200))  === \"FF38\"\n   * padHex(bigInteger.fromInt(56))    === \"38\"\n   *\n   * padHex(bigInteger.fromInt(-20))   === \"EC\"\n   * padHex(bigInteger.fromInt(236))   === \"00EC\"\n   *\n   * padHex(bigInteger.fromInt(-56))   === \"C8\"\n   * padHex(bigInteger.fromInt(200))   === \"00C8\"\n   *\n   * @param {BigInteger} bigInt Number to encode.\n   * @returns {String} even-length hex string of the two's complement encoding.\n   */;\n  _proto.padHex = function padHex(bigInt) {\n    if (!(bigInt instanceof BigInteger)) {\n      throw new Error('Not a BigInteger');\n    }\n    var isNegative = bigInt.compareTo(BigInteger.ZERO) < 0;\n\n    /* Get a hex string for abs(bigInt) */\n    var hexStr = bigInt.abs().toString(16);\n\n    /* Pad hex to even length if needed */\n    hexStr = hexStr.length % 2 !== 0 ? \"0\" + hexStr : hexStr;\n\n    /* Prepend \"00\" if the most significant bit is set */\n    hexStr = HEX_MSB_REGEX.test(hexStr) ? \"00\" + hexStr : hexStr;\n    if (isNegative) {\n      /* Flip the bits of the representation */\n      var invertedNibbles = hexStr.split('').map(function (x) {\n        var invertedNibble = ~parseInt(x, 16) & 0xf;\n        return '0123456789ABCDEF'.charAt(invertedNibble);\n      }).join('');\n\n      /* After flipping the bits, add one to get the 2's complement representation */\n      var flippedBitsBI = new BigInteger(invertedNibbles, 16).add(BigInteger.ONE);\n      hexStr = flippedBitsBI.toString(16);\n\n      /*\n      For hex strings starting with 'FF8', 'FF' can be dropped, e.g. 0xFFFF80=0xFF80=0x80=-128\n      \t\tAny sequence of '1' bits on the left can always be substituted with a single '1' bit\n      without changing the represented value.\n      \t\tThis only happens in the case when the input is 80...00\n      */\n      if (hexStr.toUpperCase().startsWith('FF8')) {\n        hexStr = hexStr.substring(2);\n      }\n    }\n    return hexStr;\n  };\n  return AuthenticationHelper;\n}();\nexport { AuthenticationHelper as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Buffer } from 'buffer';\n\n/** @class */\nvar CognitoJwtToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n  var _proto = CognitoJwtToken.prototype;\n  _proto.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  }\n\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */;\n  _proto.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  }\n\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */;\n  _proto.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  }\n\n  /**\n   * @returns {object} the token's payload.\n   */;\n  _proto.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n  return CognitoJwtToken;\n}();\nexport { CognitoJwtToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\nvar CognitoAccessToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoAccessToken, _CognitoJwtToken);\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      AccessToken = _ref.AccessToken;\n    return _CognitoJwtToken.call(this, AccessToken || '') || this;\n  }\n  return CognitoAccessToken;\n}(CognitoJwtToken);\nexport { CognitoAccessToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\nvar CognitoIdToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoIdToken, _CognitoJwtToken);\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      IdToken = _ref.IdToken;\n    return _CognitoJwtToken.call(this, IdToken || '') || this;\n  }\n  return CognitoIdToken;\n}(CognitoJwtToken);\nexport { CognitoIdToken as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n/** @class */\nvar CognitoRefreshToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      RefreshToken = _ref.RefreshToken;\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n  var _proto = CognitoRefreshToken.prototype;\n  _proto.getToken = function getToken() {\n    return this.token;\n  };\n  return CognitoRefreshToken;\n}();\nexport { CognitoRefreshToken as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n/** @class */\nvar CognitoUserSession = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      IdToken = _ref.IdToken,\n      RefreshToken = _ref.RefreshToken,\n      AccessToken = _ref.AccessToken,\n      ClockDrift = _ref.ClockDrift;\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n  var _proto = CognitoUserSession.prototype;\n  _proto.getIdToken = function getIdToken() {\n    return this.idToken;\n  }\n\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */;\n  _proto.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  }\n\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */;\n  _proto.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  }\n\n  /**\n   * @returns {int} the session's clock drift\n   */;\n  _proto.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  }\n\n  /**\n   * @returns {int} the computer's clock drift\n   */;\n  _proto.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n    return now - iat;\n  }\n\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */;\n  _proto.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n  return CognitoUserSession;\n}();\nexport { CognitoUserSession as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n/** @class */\nvar DateHelper = /*#__PURE__*/function () {\n  function DateHelper() {}\n  var _proto = DateHelper.prototype;\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  _proto.getNowString = function getNowString() {\n    var now = new Date();\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n    var hours = now.getUTCHours();\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n    var minutes = now.getUTCMinutes();\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n    var seconds = now.getUTCSeconds();\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n    var year = now.getUTCFullYear();\n\n    // ddd MMM D HH:mm:ss UTC YYYY\n    var dateNow = weekDay + \" \" + month + \" \" + day + \" \" + hours + \":\" + minutes + \":\" + seconds + \" UTC \" + year;\n    return dateNow;\n  };\n  return DateHelper;\n}();\nexport { DateHelper as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n/** @class */\nvar CognitoUserAttribute = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      Name = _ref.Name,\n      Value = _ref.Value;\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n\n  /**\n   * @returns {string} the record's value.\n   */\n  var _proto = CognitoUserAttribute.prototype;\n  _proto.getValue = function getValue() {\n    return this.Value;\n  }\n\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */;\n  _proto.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  }\n\n  /**\n   * @returns {string} the record's name.\n   */;\n  _proto.getName = function getName() {\n    return this.Name;\n  }\n\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */;\n  _proto.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  }\n\n  /**\n   * @returns {string} a string representation of the record.\n   */;\n  _proto.toString = function toString() {\n    return JSON.stringify(this);\n  }\n\n  /**\n   * @returns {object} a flat object representing the record.\n   */;\n  _proto.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n  return CognitoUserAttribute;\n}();\nexport { CognitoUserAttribute as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nvar dataMemory = {};\n\n/** @class */\nexport var MemoryStorage = /*#__PURE__*/function () {\n  function MemoryStorage() {}\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  }\n\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */;\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  }\n\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {boolean} return true\n   */;\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  }\n\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */;\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n  return MemoryStorage;\n}();\n\n/** @class */\nvar StorageHelper = /*#__PURE__*/function () {\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n  var _proto = StorageHelper.prototype;\n  _proto.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n  return StorageHelper;\n}();\nexport { StorageHelper as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\nvar isBrowser = typeof navigator !== 'undefined';\nvar userAgent = isBrowser ? navigator.userAgent : 'nodejs';\n\n/** @class */\nvar CognitoUser = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and Pool information are required.');\n    }\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n    this.client = data.Pool.client;\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n    this.storage = data.Storage || new StorageHelper().getStorage();\n    this.keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    this.userDataKey = this.keyPrefix + \".\" + this.username + \".userData\";\n  }\n\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n  var _proto = CognitoUser.prototype;\n  _proto.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedUserData();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  }\n\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */;\n  _proto.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  }\n\n  /**\n   * @returns {string} the user's username\n   */;\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n\n  /**\n   * @returns {String} the authentication flow type\n   */;\n  _proto.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  }\n\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */;\n  _proto.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  }\n\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */;\n  _proto.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n      _this.cacheTokens();\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  }\n\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */;\n  _proto.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  }\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */;\n  _proto.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolName());\n    var dateHelper = new DateHelper();\n    var serverBValue;\n    var salt;\n    var authParameters = {};\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n      authParameters.SRP_A = aValue.toString(16);\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n      var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: clientMetaData\n      };\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        var challengeParameters = data.ChallengeParameters;\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        _this2.userDataKey = _this2.keyPrefix + \".\" + _this2.username + \".userData\";\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n        _this2.getCachedDeviceKeyAndPassword();\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolName(), 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n                _this2.clearCachedDeviceKeyAndPassword();\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session,\n            ClientMetadata: clientMetaData\n          };\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined;\n          // getPasswordAuthenticationKey callback end\n        });\n\n        return undefined;\n      });\n      // getLargeAValue callback end\n    });\n  }\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */;\n  _proto.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolName());\n    this.getCachedDeviceKeyAndPassword();\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    }\n    // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  }\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {object} dataAuthenticate authentication data\n   * @param {object} authenticationHelper helper created\n   * @param {callback} callback passed on from caller\n   * @returns {void}\n   */;\n  _proto.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n    if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n      this.Session = dataAuthenticate.Session;\n      var userAttributes = null;\n      var rawRequiredAttributes = null;\n      var requiredAttributes = [];\n      var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n      if (challengeParameters) {\n        userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n        rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n      }\n      if (rawRequiredAttributes) {\n        for (var i = 0; i < rawRequiredAttributes.length; i++) {\n          requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n        }\n      }\n      return callback.newPasswordRequired(userAttributes, requiredAttributes);\n    }\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.Session = dataAuthenticate.Session;\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.challengeName = challengeName;\n    this.cacheTokens();\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n        _this4.cacheDeviceKeyAndPassword();\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n      return undefined;\n    });\n    return undefined;\n  }\n\n  /**\n   * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n   * Pass the new password with any new user attributes to be updated.\n   * User attribute keys must be of format userAttributes.<attribute_name>.\n   * @param {string} newPassword new password for this user\n   * @param {object} requiredAttributeData map with values for all required attributes\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *         response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n    var _this5 = this;\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolName());\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n    var finalUserAttributes = {};\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   * @private\n   */;\n  _proto.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n    var _this6 = this;\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n      authParameters.SRP_A = aValue.toString(16);\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters,\n        ClientMetadata: clientMetadata,\n        Session: _this6.Session\n      };\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        var challengeParameters = data.ChallengeParameters;\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n            _this6.cacheTokens();\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n          return undefined;\n          // getPasswordAuthenticationKey callback end\n        });\n\n        return undefined;\n      });\n      // getLargeAValue callback end\n    });\n  }\n\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n  }\n\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n    var _this7 = this;\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolName());\n    this.getCachedDeviceKeyAndPassword();\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  }\n\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n    var _this8 = this;\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      var challengeName = dataAuthenticate.ChallengeName;\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n        return undefined;\n      }\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n      _this8.cacheTokens();\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolName());\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n          _this8.cacheDeviceKeyAndPassword();\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n        return undefined;\n      });\n      return undefined;\n    });\n  }\n\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    var mfaOptions = [];\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.deleteUser = function deleteUser(callback, clientMetadata) {\n    var _this9 = this;\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      _this9.clearCachedUser();\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n    var _this10 = this;\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes,\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      // update cached user\n      return _this10.getUserData(function () {\n        return callback(null, 'SUCCESS');\n      }, {\n        bypassCache: true\n      });\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n      var attributeList = [];\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n      return callback(null, attributeList);\n    });\n    return undefined;\n  }\n\n  /**\n   * This was previously used by an authenticated user to get MFAOptions,\n   * but no longer returns a meaningful response. Refer to the documentation for\n   * how to setup and use MFA: https://docs.amplify.aws/lib/auth/mfa/q/platform/js\n   * @deprecated\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  }\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */;\n  _proto.createGetUserRequest = function createGetUserRequest() {\n    return this.client.promisifyRequest('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    });\n  }\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */;\n  _proto.refreshSessionIfPossible = function refreshSessionIfPossible(options) {\n    var _this11 = this;\n    if (options === void 0) {\n      options = {};\n    }\n    // best effort, if not possible\n    return new Promise(function (resolve) {\n      var refresh = _this11.signInUserSession.getRefreshToken();\n      if (refresh && refresh.getToken()) {\n        _this11.refreshSession(refresh, resolve, options.clientMetadata);\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  /**\n   * @typedef {Object} GetUserDataOptions\n   * @property {boolean} bypassCache - force getting data from Cognito service\n   * @property {Record<string, string>} clientMetadata - clientMetadata for getSession\n   */\n\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @param {GetUserDataOptions} params\n   * @returns {void}\n   */;\n  _proto.getUserData = function getUserData(callback, params) {\n    var _this12 = this;\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.clearCachedUserData();\n      return callback(new Error('User is not authenticated'), null);\n    }\n    var userData = this.getUserDataFromCache();\n    if (!userData) {\n      this.fetchUserData().then(function (data) {\n        callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n    if (this.isFetchUserDataAndTokenRequired(params)) {\n      this.fetchUserData().then(function (data) {\n        return _this12.refreshSessionIfPossible(params).then(function () {\n          return data;\n        });\n      }).then(function (data) {\n        return callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n    try {\n      callback(null, JSON.parse(userData));\n      return;\n    } catch (err) {\n      this.clearCachedUserData();\n      callback(err, null);\n      return;\n    }\n  }\n\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */;\n  _proto.getUserDataFromCache = function getUserDataFromCache() {\n    var userData = this.storage.getItem(this.userDataKey);\n    return userData;\n  }\n\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */;\n  _proto.isFetchUserDataAndTokenRequired = function isFetchUserDataAndTokenRequired(params) {\n    var _ref = params || {},\n      _ref$bypassCache = _ref.bypassCache,\n      bypassCache = _ref$bypassCache === void 0 ? false : _ref$bypassCache;\n    return bypassCache;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */;\n  _proto.fetchUserData = function fetchUserData() {\n    var _this13 = this;\n    return this.createGetUserRequest().then(function (data) {\n      _this13.cacheUserData(data);\n      return data;\n    });\n  }\n\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    var _this14 = this;\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      // update cached user\n      return _this14.getUserData(function () {\n        return callback(null, 'SUCCESS');\n      }, {\n        bypassCache: true\n      });\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, result);\n    });\n  }\n\n  /**\n   * @typedef {Object} GetSessionOptions\n   * @property {Record<string, string>} clientMetadata - clientMetadata for getSession\n   */\n\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {GetSessionOptions} options\n   * @returns {void}\n   */;\n  _proto.getSession = function getSession(callback, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var idTokenKey = keyPrefix + \".idToken\";\n    var accessTokenKey = keyPrefix + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".clockDrift\";\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n      if (!refreshToken.getToken()) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n      this.refreshSession(refreshToken, callback, options.clientMetadata);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n    return undefined;\n  }\n\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n    var _this15 = this;\n    var wrappedCallback = this.pool.wrapRefreshSessionCallback ? this.pool.wrapRefreshSessionCallback(callback) : callback;\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + \".\" + this.username + \".deviceKey\";\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this15.clearCachedUser();\n        }\n        return wrappedCallback(err, null);\n      }\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n        _this15.signInUserSession = _this15.getCognitoUserSession(authenticationResult);\n        _this15.cacheTokens();\n        return wrappedCallback(null, _this15.signInUserSession);\n      }\n      return undefined;\n    });\n  }\n\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */;\n  _proto.cacheTokens = function cacheTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, \"\" + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  }\n\n  /**\n   * This is to cache user data\n   */;\n  _proto.cacheUserData = function cacheUserData(userData) {\n    this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n  }\n\n  /**\n   * This is to remove cached user data\n   */;\n  _proto.clearCachedUserData = function clearCachedUserData() {\n    this.storage.removeItem(this.userDataKey);\n  };\n  _proto.clearCachedUser = function clearCachedUser() {\n    this.clearCachedTokens();\n    this.clearCachedUserData();\n  }\n\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */;\n  _proto.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  }\n\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */;\n  _proto.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  }\n\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */;\n  _proto.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  }\n\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */;\n  _proto.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n    this.storage.removeItem(clockDriftKey);\n  }\n\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */;\n  _proto.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n    return new CognitoUserSession(sessionData);\n  }\n\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.forgotPassword = function forgotPassword(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n      return callback.onSuccess(data);\n    });\n  }\n\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n  }\n\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */;\n  _proto.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */;\n  _proto.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */;\n  _proto.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */;\n  _proto.forgetDevice = function forgetDevice(callback) {\n    var _this16 = this;\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this16.deviceKey = null;\n        _this16.deviceGroupKey = null;\n        _this16.randomPassword = null;\n        _this16.clearCachedDeviceKeyAndPassword();\n        return callback.onSuccess(result);\n      }\n    });\n  }\n\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */;\n  _proto.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */;\n  _proto.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string | null} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */;\n  _proto.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    var requestParams = {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit\n    };\n    if (paginationToken) {\n      requestParams.PaginationToken = paginationToken;\n    }\n    this.client.request('ListDevices', requestParams, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */;\n  _proto.globalSignOut = function globalSignOut(callback) {\n    var _this17 = this;\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      _this17.clearCachedUser();\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */;\n  _proto.signOut = function signOut(revokeTokenCallback) {\n    var _this18 = this;\n    // If tokens won't be revoked, we just clean the client data.\n    if (!revokeTokenCallback || typeof revokeTokenCallback !== 'function') {\n      this.cleanClientData();\n      return;\n    }\n    this.getSession(function (error, _session) {\n      if (error) {\n        return revokeTokenCallback(error);\n      }\n      _this18.revokeTokens(function (err) {\n        _this18.cleanClientData();\n        revokeTokenCallback(err);\n      });\n    });\n  };\n  _proto.revokeTokens = function revokeTokens(revokeTokenCallback) {\n    if (revokeTokenCallback === void 0) {\n      revokeTokenCallback = function revokeTokenCallback() {};\n    }\n    if (typeof revokeTokenCallback !== 'function') {\n      throw new Error('Invalid revokeTokenCallback. It should be a function.');\n    }\n    var tokensToBeRevoked = [];\n    if (!this.signInUserSession) {\n      var error = new Error('User is not authenticated');\n      return revokeTokenCallback(error);\n    }\n    if (!this.signInUserSession.getAccessToken()) {\n      var _error = new Error('No Access token available');\n      return revokeTokenCallback(_error);\n    }\n    var refreshToken = this.signInUserSession.getRefreshToken().getToken();\n    var accessToken = this.signInUserSession.getAccessToken();\n    if (this.isSessionRevocable(accessToken)) {\n      if (refreshToken) {\n        return this.revokeToken({\n          token: refreshToken,\n          callback: revokeTokenCallback\n        });\n      }\n    }\n    revokeTokenCallback();\n  };\n  _proto.isSessionRevocable = function isSessionRevocable(token) {\n    if (token && typeof token.decodePayload === 'function') {\n      try {\n        var _token$decodePayload = token.decodePayload(),\n          origin_jti = _token$decodePayload.origin_jti;\n        return !!origin_jti;\n      } catch (err) {\n        // Nothing to do, token doesnt have origin_jti claim\n      }\n    }\n    return false;\n  };\n  _proto.cleanClientData = function cleanClientData() {\n    this.signInUserSession = null;\n    this.clearCachedUser();\n  };\n  _proto.revokeToken = function revokeToken(_ref2) {\n    var token = _ref2.token,\n      callback = _ref2.callback;\n    this.client.requestWithRetry('RevokeToken', {\n      Token: token,\n      ClientId: this.pool.getClientId()\n    }, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      callback();\n    });\n  }\n\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this19 = this;\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      _this19.Session = data.Session;\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.ChallengeName, data.ChallengeParameters);\n      }\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.ChallengeName, data.ChallengeParameters);\n      }\n      return undefined;\n    });\n  }\n\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {string} the user context data from CognitoUserPool\n   */;\n  _proto.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  }\n\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this20 = this;\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        _this20.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  }\n\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */;\n  _proto.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this21 = this;\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        _this21.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this21.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this21.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this21.Session\n        };\n        if (_this21.getUserContextData()) {\n          jsonReq.UserContextData = _this21.getUserContextData();\n        }\n        _this21.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n          _this21.signInUserSession = _this21.getCognitoUserSession(dataRespond.AuthenticationResult);\n          _this21.cacheTokens();\n          return callback.onSuccess(_this21.signInUserSession);\n        });\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        return callback.onSuccess(data);\n      });\n    }\n  };\n  return CognitoUser;\n}();\nexport { CognitoUser as default };","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { version } from './version';\nvar BASE_USER_AGENT = \"aws-amplify/\" + version;\nexport var Platform = {\n  userAgent: BASE_USER_AGENT + \" js\",\n  product: '',\n  navigator: null,\n  isReactNative: false\n};\nif (typeof navigator !== 'undefined' && navigator.product) {\n  Platform.product = navigator.product || '';\n  Platform.navigator = navigator || null;\n  switch (navigator.product) {\n    case 'ReactNative':\n      Platform.userAgent = BASE_USER_AGENT + \" react-native\";\n      Platform.isReactNative = true;\n      break;\n    default:\n      Platform.userAgent = BASE_USER_AGENT + \" js\";\n      Platform.isReactNative = false;\n      break;\n  }\n}\nexport var getUserAgent = function getUserAgent() {\n  return Platform.userAgent;\n};\n\n/**\n * @deprecated use named import\n */\nexport default Platform;","import { getUserAgent } from \"./Platform\";\n// constructor\nfunction UserAgent() {}\n// public\nUserAgent.prototype.userAgent = getUserAgent();\nexport var appendToCognitoUserAgent = function appendToCognitoUserAgent(content) {\n  if (!content) {\n    return;\n  }\n  if (UserAgent.prototype.userAgent && !UserAgent.prototype.userAgent.includes(content)) {\n    UserAgent.prototype.userAgent = UserAgent.prototype.userAgent.concat(' ', content);\n  }\n  if (!UserAgent.prototype.userAgent || UserAgent.prototype.userAgent === '') {\n    UserAgent.prototype.userAgent = content;\n  }\n};\n\n// class for defining the amzn user-agent\nexport default UserAgent;","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n    var _ref = fetchOptions || {},\n      credentials = _ref.credentials;\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n  var _proto = Client.prototype;\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  };\n  _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n    var _this3 = this;\n    var MAX_DELAY_IN_MILLIS = 5 * 1000;\n    jitteredExponentialRetry(function (p) {\n      return new Promise(function (res, rej) {\n        _this3.request(operation, p, function (error, result) {\n          if (error) {\n            rej(error);\n          } else {\n            res(result);\n          }\n        });\n      });\n    }, [params], MAX_DELAY_IN_MILLIS).then(function (result) {\n      return callback(null, result);\n    })[\"catch\"](function (error) {\n      return callback(error);\n    });\n  }\n\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */;\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data;\n\n      // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n      var code = (data.__type || data.code).split('#').pop();\n      var error = new Error(data.message || data.Message || null);\n      error.name = code;\n      error.code = code;\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = new Error(response.status ? response.status.toString() : null);\n          error.code = code;\n          error.name = code;\n          error.statusCode = response.status;\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        }\n        // otherwise check if error is Network error\n      } else if (err instanceof Error && err.message === 'Network error') {\n        err.code = 'NetworkError';\n      }\n      return callback(err);\n    });\n  };\n  return Client;\n}();\nexport { Client as default };\nvar logger = {\n  debug: function debug() {\n    // Intentionally blank. This package doesn't have logging\n  }\n};\n\n/**\n * For now, all errors are retryable.\n */\nvar NonRetryableError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(NonRetryableError, _Error2);\n  function NonRetryableError(message) {\n    var _this4;\n    _this4 = _Error2.call(this, message) || this;\n    _this4.nonRetryable = true;\n    return _this4;\n  }\n  return NonRetryableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar isNonRetryableError = function isNonRetryableError(obj) {\n  var key = 'nonRetryable';\n  return obj && obj[key];\n};\nfunction retry(functionToRetry, args, delayFn, attempt) {\n  if (attempt === void 0) {\n    attempt = 1;\n  }\n  if (typeof functionToRetry !== 'function') {\n    throw Error('functionToRetry must be a function');\n  }\n  logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n  return functionToRetry.apply(void 0, args)[\"catch\"](function (err) {\n    logger.debug(\"error on \" + functionToRetry.name, err);\n    if (isNonRetryableError(err)) {\n      logger.debug(functionToRetry.name + \" non retryable error\", err);\n      throw err;\n    }\n    var retryIn = delayFn(attempt, args, err);\n    logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n    if (retryIn !== false) {\n      return new Promise(function (res) {\n        return setTimeout(res, retryIn);\n      }).then(function () {\n        return retry(functionToRetry, args, delayFn, attempt + 1);\n      });\n    } else {\n      throw err;\n    }\n  });\n}\nfunction jitteredBackoff(maxDelayMs) {\n  var BASE_TIME_MS = 100;\n  var JITTER_FACTOR = 100;\n  return function (attempt) {\n    var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\nvar MAX_DELAY_MS = 5 * 60 * 1000;\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n  if (maxDelayMs === void 0) {\n    maxDelayMs = MAX_DELAY_MS;\n  }\n  return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}\n;","/*!\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\nvar USER_POOL_ID_MAX_LENGTH = 55;\n\n/** @class */\nvar CognitoUserPool = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {string} data.endpoint Optional custom service endpoint.\n   * @param {object} data.fetchOptions Optional options for fetch API.\n   *        (only credentials option is supported)\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data, wrapRefreshSessionCallback) {\n    var _ref = data || {},\n      UserPoolId = _ref.UserPoolId,\n      ClientId = _ref.ClientId,\n      endpoint = _ref.endpoint,\n      fetchOptions = _ref.fetchOptions,\n      AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n    if (UserPoolId.length > USER_POOL_ID_MAX_LENGTH || !/^[\\w-]+_[0-9a-zA-Z]+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n    var region = UserPoolId.split('_')[0];\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n    this.client = new Client(region, endpoint, fetchOptions);\n\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n    this.storage = data.Storage || new StorageHelper().getStorage();\n    if (wrapRefreshSessionCallback) {\n      this.wrapRefreshSessionCallback = wrapRefreshSessionCallback;\n    }\n  }\n\n  /**\n   * @returns {string} the user pool id\n   */\n  var _proto = CognitoUserPool.prototype;\n  _proto.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  }\n\n  /**\n   * @returns {string} the user pool name\n   */;\n  _proto.getUserPoolName = function getUserPoolName() {\n    return this.getUserPoolId().split('_')[1];\n  }\n\n  /**\n   * @returns {string} the client id\n   */;\n  _proto.getClientId = function getClientId() {\n    return this.clientId;\n  }\n\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {(AttributeArg[])=} clientMetadata Client metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */;\n  _proto.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n    var _this = this;\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData,\n      ClientMetadata: clientMetadata\n    };\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub,\n        codeDeliveryDetails: data.CodeDeliveryDetails\n      };\n      return callback(null, returnData);\n    });\n  }\n\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */;\n  _proto.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = \"CognitoIdentityServiceProvider.\" + this.clientId + \".LastAuthUser\";\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n      return new CognitoUser(cognitoUser);\n    }\n    return null;\n  }\n\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/;\n  _proto.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n    return {};\n  };\n  return CognitoUserPool;\n}();\nexport { CognitoUserPool as default };","export default class SkapiError extends Error {\n    constructor(error, options) {\n        if (error instanceof Error) {\n            super(error.message || 'Something went wrong.');\n            this.cause = error;\n            this.name = error.name;\n            if (error.hasOwnProperty('code')) {\n                this.code = error.code;\n            }\n        }\n        else if (typeof error === 'string') {\n            super(error || 'Something went wrong.');\n            this.name = \"SkapiError\";\n            this.code = 'ERROR';\n            if (options) {\n                if (options.code) {\n                    this.code = options.code;\n                }\n                if (options.cause) {\n                    this.cause = options.cause;\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=skapi_error.js.map","import SkapiError from \"./skapi_error\";\nclass MD5 {\n    static hash(str) {\n        if (typeof str !== 'string') {\n            console.warn('coercing non-string value to empty string');\n            str = '';\n        }\n        const x = MD5.sb(str);\n        let a = 1732584193;\n        let b = -271733879;\n        let c = -1732584194;\n        let d = 271733878;\n        let lastA;\n        let lastB;\n        let lastC;\n        let lastD;\n        for (let i = 0; i < x.length; i += 16) {\n            lastA = a;\n            lastB = b;\n            lastC = c;\n            lastD = d;\n            a = MD5.ff(a, b, c, d, x[i], 7, -680876936);\n            d = MD5.ff(d, a, b, c, x[i + 1], 12, -389564586);\n            c = MD5.ff(c, d, a, b, x[i + 2], 17, 606105819);\n            b = MD5.ff(b, c, d, a, x[i + 3], 22, -1044525330);\n            a = MD5.ff(a, b, c, d, x[i + 4], 7, -176418897);\n            d = MD5.ff(d, a, b, c, x[i + 5], 12, 1200080426);\n            c = MD5.ff(c, d, a, b, x[i + 6], 17, -1473231341);\n            b = MD5.ff(b, c, d, a, x[i + 7], 22, -45705983);\n            a = MD5.ff(a, b, c, d, x[i + 8], 7, 1770035416);\n            d = MD5.ff(d, a, b, c, x[i + 9], 12, -1958414417);\n            c = MD5.ff(c, d, a, b, x[i + 10], 17, -42063);\n            b = MD5.ff(b, c, d, a, x[i + 11], 22, -1990404162);\n            a = MD5.ff(a, b, c, d, x[i + 12], 7, 1804603682);\n            d = MD5.ff(d, a, b, c, x[i + 13], 12, -40341101);\n            c = MD5.ff(c, d, a, b, x[i + 14], 17, -1502002290);\n            b = MD5.ff(b, c, d, a, x[i + 15], 22, 1236535329);\n            a = MD5.gg(a, b, c, d, x[i + 1], 5, -165796510);\n            d = MD5.gg(d, a, b, c, x[i + 6], 9, -1069501632);\n            c = MD5.gg(c, d, a, b, x[i + 11], 14, 643717713);\n            b = MD5.gg(b, c, d, a, x[i], 20, -373897302);\n            a = MD5.gg(a, b, c, d, x[i + 5], 5, -701558691);\n            d = MD5.gg(d, a, b, c, x[i + 10], 9, 38016083);\n            c = MD5.gg(c, d, a, b, x[i + 15], 14, -660478335);\n            b = MD5.gg(b, c, d, a, x[i + 4], 20, -405537848);\n            a = MD5.gg(a, b, c, d, x[i + 9], 5, 568446438);\n            d = MD5.gg(d, a, b, c, x[i + 14], 9, -1019803690);\n            c = MD5.gg(c, d, a, b, x[i + 3], 14, -187363961);\n            b = MD5.gg(b, c, d, a, x[i + 8], 20, 1163531501);\n            a = MD5.gg(a, b, c, d, x[i + 13], 5, -1444681467);\n            d = MD5.gg(d, a, b, c, x[i + 2], 9, -51403784);\n            c = MD5.gg(c, d, a, b, x[i + 7], 14, 1735328473);\n            b = MD5.gg(b, c, d, a, x[i + 12], 20, -1926607734);\n            a = MD5.hh(a, b, c, d, x[i + 5], 4, -378558);\n            d = MD5.hh(d, a, b, c, x[i + 8], 11, -2022574463);\n            c = MD5.hh(c, d, a, b, x[i + 11], 16, 1839030562);\n            b = MD5.hh(b, c, d, a, x[i + 14], 23, -35309556);\n            a = MD5.hh(a, b, c, d, x[i + 1], 4, -1530992060);\n            d = MD5.hh(d, a, b, c, x[i + 4], 11, 1272893353);\n            c = MD5.hh(c, d, a, b, x[i + 7], 16, -155497632);\n            b = MD5.hh(b, c, d, a, x[i + 10], 23, -1094730640);\n            a = MD5.hh(a, b, c, d, x[i + 13], 4, 681279174);\n            d = MD5.hh(d, a, b, c, x[i], 11, -358537222);\n            c = MD5.hh(c, d, a, b, x[i + 3], 16, -722521979);\n            b = MD5.hh(b, c, d, a, x[i + 6], 23, 76029189);\n            a = MD5.hh(a, b, c, d, x[i + 9], 4, -640364487);\n            d = MD5.hh(d, a, b, c, x[i + 12], 11, -421815835);\n            c = MD5.hh(c, d, a, b, x[i + 15], 16, 530742520);\n            b = MD5.hh(b, c, d, a, x[i + 2], 23, -995338651);\n            a = MD5.ii(a, b, c, d, x[i], 6, -198630844);\n            d = MD5.ii(d, a, b, c, x[i + 7], 10, 1126891415);\n            c = MD5.ii(c, d, a, b, x[i + 14], 15, -1416354905);\n            b = MD5.ii(b, c, d, a, x[i + 5], 21, -57434055);\n            a = MD5.ii(a, b, c, d, x[i + 12], 6, 1700485571);\n            d = MD5.ii(d, a, b, c, x[i + 3], 10, -1894986606);\n            c = MD5.ii(c, d, a, b, x[i + 10], 15, -1051523);\n            b = MD5.ii(b, c, d, a, x[i + 1], 21, -2054922799);\n            a = MD5.ii(a, b, c, d, x[i + 8], 6, 1873313359);\n            d = MD5.ii(d, a, b, c, x[i + 15], 10, -30611744);\n            c = MD5.ii(c, d, a, b, x[i + 6], 15, -1560198380);\n            b = MD5.ii(b, c, d, a, x[i + 13], 21, 1309151649);\n            a = MD5.ii(a, b, c, d, x[i + 4], 6, -145523070);\n            d = MD5.ii(d, a, b, c, x[i + 11], 10, -1120210379);\n            c = MD5.ii(c, d, a, b, x[i + 2], 15, 718787259);\n            b = MD5.ii(b, c, d, a, x[i + 9], 21, -343485551);\n            a = MD5.ad(a, lastA);\n            b = MD5.ad(b, lastB);\n            c = MD5.ad(c, lastC);\n            d = MD5.ad(d, lastD);\n        }\n        return MD5.rh(a) + MD5.rh(b) + MD5.rh(c) + MD5.rh(d);\n    }\n    static rh(n) {\n        let s = '';\n        for (let j = 0; j <= 3; j++) {\n            s += MD5.alphabet.charAt((n >> (j * 8 + 4)) & 0x0F) + MD5.alphabet.charAt((n >> (j * 8)) & 0x0F);\n        }\n        return s;\n    }\n    static ad(x, y) {\n        const l = (x & 0xFFFF) + (y & 0xFFFF);\n        const m = (x >> 16) + (y >> 16) + (l >> 16);\n        return (m << 16) | (l & 0xFFFF);\n    }\n    static rl(n, c) {\n        return (n << c) | (n >>> (32 - c));\n    }\n    static cm(q, a, b, x, s, t) {\n        return MD5.ad(MD5.rl(MD5.ad(MD5.ad(a, q), MD5.ad(x, t)), s), b);\n    }\n    static ff(a, b, c, d, x, s, t) {\n        return MD5.cm(b & c | ~b & d, a, b, x, s, t);\n    }\n    static gg(a, b, c, d, x, s, t) {\n        return MD5.cm(b & d | c & ~d, a, b, x, s, t);\n    }\n    static hh(a, b, c, d, x, s, t) {\n        return MD5.cm(b ^ c ^ d, a, b, x, s, t);\n    }\n    static ii(a, b, c, d, x, s, t) {\n        return MD5.cm(c ^ (b | ~d), a, b, x, s, t);\n    }\n    static sb(x) {\n        let i;\n        const numBlocks = ((x.length + 8) >> 6) + 1;\n        const blocks = new Array(numBlocks * 16);\n        for (i = 0; i < numBlocks * 16; i++) {\n            blocks[i] = 0;\n        }\n        for (i = 0; i < x.length; i++) {\n            blocks[i >> 2] |= x.charCodeAt(i) << ((i % 4) * 8);\n        }\n        blocks[i >> 2] |= 0x80 << ((i % 4) * 8);\n        blocks[numBlocks * 16 - 2] = x.length * 8;\n        return blocks;\n    }\n}\nMD5.alphabet = '0123456789abcdef';\nfunction checkParams(params, struct, required = null, bypassCheck = [], _parentKey = null) {\n    if (Array.isArray(bypassCheck)) {\n        bypassCheck = bypassCheck.concat([\n            'service',\n            'service_owner',\n        ]);\n    }\n    function isObjectWithKeys(obj) {\n        if (obj instanceof Promise) {\n            throw new SkapiError('Parameter should not be a promise', { code: 'INVALID_PARAMETER' });\n        }\n        return obj && typeof obj === 'object' && !Array.isArray(obj) && Object.keys(obj).length;\n    }\n    function isEmptyObject(obj) {\n        return obj && typeof obj === 'object' && !Array.isArray(obj) && !Object.keys(obj).length;\n    }\n    let _params = params;\n    let val;\n    let errToThrow = null;\n    let isInvalid = _parentKey ? ` in \"${_parentKey}\" is invalid.` : '. Parameter should be type <object>.';\n    if (_parentKey === null) {\n        if (isObjectWithKeys(_params)) {\n            if (_params instanceof HTMLFormElement || _params instanceof FormData) {\n                _params = extractFormMetaData(params)?.meta;\n            }\n            else {\n                _params = JSON.parse(JSON.stringify(params));\n            }\n            for (let k in _params) {\n                if (!struct.hasOwnProperty(k) && Array.isArray(bypassCheck) && !bypassCheck.includes(k)) {\n                    throw new SkapiError(`Key name \"${k}\" is invalid in parameter.`, { code: 'INVALID_PARAMETER' });\n                }\n            }\n            if (Array.isArray(required) && required.length) {\n                for (let k of required) {\n                    if (!Object.keys(_params).includes(k)) {\n                        throw new SkapiError(`Key \"${k}\" is required in parameter.`, { code: 'INVALID_PARAMETER' });\n                    }\n                }\n            }\n        }\n        else if (isEmptyObject(_params) || typeof _params === 'undefined') {\n            let defaults = {};\n            for (let s in struct) {\n                let structValue = struct[s];\n                if (Array.isArray(structValue) && typeof structValue[structValue.length - 1] === 'function')\n                    defaults[s] = structValue[structValue.length - 1]();\n            }\n            return Object.keys(defaults).length ? defaults : _params;\n        }\n        if (_params === null) {\n            return null;\n        }\n    }\n    if (isObjectWithKeys(struct) && isObjectWithKeys(_params)) {\n        for (let s in struct) {\n            let structValue = struct[s];\n            if (_params.hasOwnProperty(s) && typeof _params[s] != 'undefined') {\n                _params[s] = checkParams(_params[s], structValue, null, null, s);\n            }\n            else {\n                let defaultSetter = Array.isArray(structValue) &&\n                    typeof structValue[structValue.length - 1] === 'function' ? structValue[structValue.length - 1] : null;\n                if (defaultSetter) {\n                    let def = defaultSetter();\n                    if (def !== undefined) {\n                        _params[s] = def;\n                    }\n                }\n            }\n        }\n        val = _params;\n    }\n    else if (Array.isArray(struct)) {\n        for (let s of struct) {\n            try {\n                if (typeof _params !== undefined && typeof s !== 'function') {\n                    val = checkParams(_params, s, null, null, _parentKey);\n                }\n                break;\n            }\n            catch (err) {\n                if (typeof err === 'string' && err.substring(0, 6) === 'BREAK:') {\n                    err = err.substring(6);\n                    let errMsg = err.split(':');\n                    errToThrow = new SkapiError(errMsg[1], { code: errMsg[0] });\n                    break;\n                }\n                else {\n                    errToThrow = err;\n                }\n            }\n        }\n    }\n    else if (typeof struct === 'function') {\n        return struct(_params);\n    }\n    else if (typeof struct === 'string') {\n        if (Array.isArray(_params)) {\n            if (struct !== 'array') {\n                throw new SkapiError(`Invalid type \"${typeof _params}\"${isInvalid}`, { code: 'INVALID_PARAMETER' });\n            }\n            for (let p of _params) {\n                if (!['number', 'string', 'boolean'].includes(typeof p) && p !== null) {\n                    throw new SkapiError(`Invalid type \"${typeof p}\" in \"${_parentKey}\" array value.`, { code: 'INVALID_PARAMETER' });\n                }\n            }\n            val = _params;\n        }\n        else if (!['number', 'string', 'boolean', 'array', 'function'].includes(struct)) {\n            if (_params === struct) {\n                val = _params;\n            }\n            else {\n                throw new SkapiError(`Value: ${_params}${isInvalid}`, { code: 'INVALID_PARAMETER' });\n            }\n        }\n        else if (typeof _params === struct) {\n            if (struct === 'number') {\n                if (Math.abs(_params) > 4503599627370496) {\n                    throw `BREAK:INVALID_PARAMETER:\"${_parentKey}\" integer value should be within -4503599627370496 ~ +4503599627370546.`;\n                }\n            }\n            val = _params;\n        }\n        else {\n            throw new SkapiError(`Value: ${_params}${isInvalid}`, { code: 'INVALID_PARAMETER' });\n        }\n    }\n    else if (struct === null) {\n        val = _params;\n    }\n    if (val === undefined && errToThrow) {\n        throw errToThrow;\n    }\n    return val;\n}\nfunction extractFormMetaData(form) {\n    function appendData(meta, key, val, append = true) {\n        if (meta[key] && append) {\n            if (Array.isArray(meta)) {\n                meta[key].push(val);\n            }\n            else {\n                meta[key] = [meta[key], val];\n            }\n        }\n        else {\n            meta[key] = val;\n        }\n    }\n    if (form instanceof FormData) {\n        let meta = {};\n        let totalFileSize = 0;\n        let files = [];\n        for (let pair of form.entries()) {\n            let name = pair[0];\n            let v = pair[1];\n            if (v instanceof File) {\n                if (!files.includes(name)) {\n                    files.push(name);\n                }\n                totalFileSize += Math.round((v.size / 1024));\n            }\n            else if (v instanceof FileList) {\n                if (!files.includes(name)) {\n                    files.push(name);\n                }\n                if (v && v.length > 0) {\n                    for (let idx = 0; idx <= v.length - 1; idx++) {\n                        totalFileSize += Math.round((v.item(idx).size / 1024));\n                    }\n                }\n            }\n            else {\n                appendData(meta, name, v);\n            }\n        }\n        if (totalFileSize > 5120) {\n            throw new SkapiError('Files cannot exceed 5MB. Use skapi.uploadFiles(...) instead.', { code: 'INVALID_REQUEST' });\n        }\n        return { meta, files };\n    }\n    else if (form instanceof HTMLFormElement) {\n        let meta = {};\n        let files = [];\n        let totalFileSize = 0;\n        let inputs = form.querySelectorAll('input');\n        let textarea = form.querySelectorAll('textarea');\n        for (let i of textarea) {\n            if (i.name) {\n                appendData(meta, i.name, i.value);\n            }\n        }\n        for (let i of inputs) {\n            if (i.name) {\n                if (i.type === 'number' && i.value) {\n                    appendData(meta, i.name, Number(i.value));\n                }\n                else if (i.type === 'checkbox' || i.type === 'radio') {\n                    if (i.value === 'on' || i.value === 'true') {\n                        appendData(meta, i.name, i.checked, false);\n                    }\n                    else if (i.value === 'false') {\n                        appendData(meta, i.name, !i.checked, false);\n                    }\n                    else if (i.checked) {\n                        appendData(meta, i.name, i.value, false);\n                    }\n                }\n                else if (i.type === 'file') {\n                    if (!files.includes(i.name)) {\n                        files.push(i.name);\n                    }\n                    if (i.files && i.files.length > 0) {\n                        for (let idx = 0; idx <= i.files.length - 1; idx++) {\n                            totalFileSize += Math.round((i.files.item(idx).size / 1024));\n                        }\n                    }\n                }\n                else {\n                    appendData(meta, i.name, i.value);\n                }\n            }\n        }\n        if (totalFileSize > 5120) {\n            throw new SkapiError('Files cannot exceed 5MB. Use skapi.uploadFiles(...) instead.', { code: 'INVALID_REQUEST' });\n        }\n        return { meta, files };\n    }\n    return null;\n}\nfunction validateUserId(id, param = 'User ID') {\n    let uuid_regex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n    if (!id) {\n        throw new SkapiError(`${param} is empty.`, { code: 'INVALID_PARAMETER' });\n    }\n    else if (typeof id !== 'string') {\n        throw new SkapiError(`${param} should be type: string.`, { code: 'INVALID_PARAMETER' });\n    }\n    else if (!id.match(uuid_regex)) {\n        throw new SkapiError(`${param} is invalid.`, { code: 'INVALID_PARAMETER' });\n    }\n    return id;\n}\nfunction validatePhoneNumber(value) {\n    if (typeof value !== 'string' || value.charAt(0) !== '+' || isNaN(Number(value.substring(1)))) {\n        throw new SkapiError('\"phone_number\" is invalid. The format should be \"+00123456789\". Type: string.', { code: 'INVALID_PARAMETER' });\n    }\n    return value;\n}\nfunction validateBirthdate(birthdate) {\n    if (typeof birthdate !== 'string') {\n        throw new SkapiError('\"birthdate\" is invalid. The format should be \"yyyy-mm-dd\". Type: string.', { code: 'INVALID_PARAMETER' });\n    }\n    else {\n        let date_regex = new RegExp(/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))/);\n        if (birthdate.length !== 10 || birthdate.split('-').length !== 3 || !date_regex.test(birthdate)) {\n            throw new SkapiError('\"birthdate\" is invalid. The format should be \"yyyy-mm-dd\". Type: string.', { code: 'INVALID_PARAMETER' });\n        }\n    }\n    return birthdate;\n}\nfunction validatePassword(password) {\n    if (!password) {\n        throw new SkapiError('\"password\" is empty.', { code: 'PASSWORD_REQUIRED' });\n    }\n    else if (typeof password !== 'string') {\n        throw new SkapiError('\"password\" should be type: string.', { code: 'INVALID_PASSWORD' });\n    }\n    else if (password.length < 6) {\n        throw new SkapiError('\"password\" should be at least 6 characters.', { code: 'INVALID_PASSWORD' });\n    }\n    else if (password.length > 60) {\n        throw new SkapiError('\"password\" can be up to 60 characters max.', { code: 'INVALID_PASSWORD' });\n    }\n    return password;\n}\nfunction validateEmail(email, paramName = 'email') {\n    if (!email) {\n        throw new SkapiError(`\"${paramName}\" is empty.`, { code: 'EMAIL_REQUIRED' });\n    }\n    else if (typeof email !== 'string') {\n        throw new SkapiError(`\"${paramName}\"should be type: string.`, { code: 'INVALID_EMAIL' });\n    }\n    else if (email.length < 5 || email.length > 64) {\n        throw new SkapiError(`\"${paramName}\" should be at least 5 characters and max 64 characters.`, { code: 'INVALID_EMAIL' });\n    }\n    else if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)) {\n        email = email.trim();\n        let splitAt = email.split('@');\n        let tld = splitAt[1].split('.');\n        if (tld.length >= 2) {\n            return email.toLowerCase();\n        }\n    }\n    throw new SkapiError(`\"${email}\" is an invalid email.`, { code: 'INVALID_EMAIL' });\n}\nfunction validateUrl(url) {\n    const baseUrl = (() => {\n        let baseUrl = window?.location?.origin || null;\n        if (baseUrl === 'file://') {\n            baseUrl += window.location.pathname;\n            let _baseUrl = baseUrl.split('/');\n            _baseUrl.pop();\n            baseUrl = _baseUrl.join('/');\n        }\n        return baseUrl;\n    })();\n    let check = (c) => {\n        if (typeof c === 'string') {\n            if (c === '*') {\n                return '*';\n            }\n            else {\n                let cu = c.trim();\n                if (!cu.includes(' ') && !cu.includes(',')) {\n                    if (cu.substring(0, 1) === '/' && baseUrl) {\n                        cu = baseUrl + cu;\n                    }\n                    let _url = null;\n                    try {\n                        _url = new URL(cu);\n                    }\n                    catch (err) {\n                        throw new SkapiError(`\"${c}\" is an invalid url.`, { code: 'INVALID_PARAMETER' });\n                    }\n                    if (_url.protocol) {\n                        let url = _url.href;\n                        if (url.charAt(url.length - 1) === '/')\n                            url = url.substring(0, url.length - 1);\n                        return url;\n                    }\n                }\n            }\n        }\n        throw new SkapiError(`\"${c}\" is an invalid url.`, { code: 'INVALID_PARAMETER' });\n    };\n    if (Array.isArray(url)) {\n        return url.map(u => check(u));\n    }\n    else {\n        return check(url);\n    }\n}\nfunction normalize_record_data(record) {\n    function base_decode(chars) {\n        let charset = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n        return chars.split('').reverse().reduce((prev, curr, i) => prev + (charset.indexOf(curr) * (62 ** i)), 0);\n    }\n    const output = {};\n    const keys = {\n        'rec': (r) => {\n            if (!r)\n                return;\n            output.record_id = r;\n            let base62timestamp = r.substring(0, r.length - 9);\n            let uploaded = base_decode(base62timestamp);\n            output.uploaded = uploaded;\n        },\n        'usr': (r) => {\n            if (!r)\n                return;\n            output.user_id = r;\n        },\n        'tbl': (r) => {\n            if (!r)\n                return;\n            let rSplit = r.split('/');\n            output.table = rSplit[0];\n            output.access_group = rSplit[2] == '@@' ? 'private' : parseInt(rSplit[2]);\n            if (rSplit?.[3]) {\n                output.subscription = {\n                    user_id: rSplit[3],\n                    group: parseInt(rSplit[4])\n                };\n            }\n        },\n        'idx': (r) => {\n            if (!r)\n                return;\n            let rSplit = r.split('!');\n            let name = rSplit.splice(0, 1)[0];\n            let value = normalize_typed_string(rSplit.join('!'));\n            output.index = {\n                name,\n                value\n            };\n        },\n        'ref': (r) => {\n            if (!r)\n                return;\n            output.reference = r.split('/')[0];\n        },\n        'tags': (r) => {\n            if (!r)\n                return;\n            output.tags = r;\n        },\n        'upd': (r) => {\n            if (!r)\n                return;\n            output.updated = r;\n        },\n        'acpt_mrf': (r) => {\n            if (!r)\n                return;\n            if (!output?.config)\n                output.config = {};\n            output.config.allow_multiple_reference = r;\n        },\n        'ref_limt': (r) => {\n            if (!r)\n                return;\n            if (!output?.config)\n                output.config = {};\n            output.config.reference_limit = r;\n        },\n        'rfd': (r) => {\n            output.referenced_count = r;\n        },\n        'prv_acs': (r) => {\n            if (!r)\n                return;\n            if (!output?.config)\n                output.config = {};\n            output.config.private_access = r;\n        },\n        'data': (r) => {\n            let data = r;\n            if (r === '!D%{}') {\n                data = {};\n            }\n            else if (r === '!L%[]') {\n                data = [];\n            }\n            output.data = data;\n        }\n    };\n    if (record.record_id) {\n        return record;\n    }\n    for (let k in keys) {\n        keys[k](record[k]);\n    }\n    return output;\n}\nfunction normalize_typed_string(v) {\n    let value = v.substring(2);\n    let type = v.substring(0, 2);\n    switch (type) {\n        case \"S%\":\n            return value;\n        case \"N%\":\n            return Number(value) - 4503599627370496;\n        case \"B%\":\n            return value === '1';\n        case \"L%\":\n            try {\n                return JSON.parse(value);\n            }\n            catch (err) {\n                throw new SkapiError('Value parse error.', { code: 'PARSE_ERROR' });\n            }\n        default:\n            return v;\n    }\n}\nfunction checkWhiteSpaceAndSpecialChars(string, p = 'parameter', allowPeriods = false, allowWhiteSpace = false) {\n    let checkStr = (s, array = false) => {\n        if (typeof s !== 'string') {\n            throw new SkapiError(`${p} should be type: <string | string[]>.`, { code: 'INVALID_PARAMETER' });\n        }\n        if (!allowWhiteSpace && string.includes(' ')) {\n            throw new SkapiError(`${p} should not have whitespace.`, { code: 'INVALID_PARAMETER' });\n        }\n        if (!allowPeriods && string.includes('.')) {\n            throw new SkapiError(`${p} should not have periods.`, { code: 'INVALID_PARAMETER' });\n        }\n        if (/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,<>\\/?~]/.test(s)) {\n            throw new SkapiError(`${p} should not have special characters.`, { code: 'INVALID_PARAMETER' });\n        }\n    };\n    if (Array.isArray(string)) {\n        for (let s of string) {\n            checkStr(s, true);\n        }\n    }\n    else {\n        checkStr(string, false);\n    }\n    return string;\n}\nexport { checkWhiteSpaceAndSpecialChars, normalize_record_data, checkParams, extractFormMetaData, validateUserId, validateBirthdate, validateEmail, validatePassword, validatePhoneNumber, validateUrl, MD5 };\n//# sourceMappingURL=utils.js.map","import SkapiError from './skapi_error';\nimport { MD5 } from './utils';\nfunction formResponse() {\n    return function (target, propertyKey, descriptor) {\n        const fn = descriptor.value;\n        descriptor.value = function (...arg) {\n            let form = arg[0];\n            let option = arg?.[1] || {};\n            const handleResponse = (response) => {\n                if (option?.response) {\n                    if (typeof option.response === 'function') {\n                        option.response(response);\n                        return response;\n                    }\n                    else {\n                        throw new SkapiError('Callback \"response\" should be type: function.', { code: 'INVALID_PARAMETER' });\n                    }\n                }\n                if (!(form instanceof HTMLFormElement)) {\n                    return response;\n                }\n                let href = new URL(form.action);\n                let response_key = MD5.hash(form.action);\n                let timestamp = Date.now().toString();\n                window.sessionStorage.setItem(response_key, JSON.stringify({ [timestamp]: response }));\n                href.searchParams.set(response_key, timestamp);\n                window.location.href = href.href;\n            };\n            let response;\n            function handleError(err) {\n                let is_err = err instanceof Error ? err : new SkapiError(err);\n                if (option?.onerror) {\n                    if (typeof option.onerror === 'function') {\n                        return option.onerror(is_err);\n                    }\n                    else {\n                        throw new SkapiError('Callback \"onerror\" should be type: function.', { code: 'INVALID_PARAMETER' });\n                    }\n                }\n                return is_err;\n            }\n            try {\n                response = fn.bind(this)(...arg);\n            }\n            catch (err) {\n                let is_err = handleError(err);\n                if (is_err instanceof Error) {\n                    throw is_err;\n                }\n                return is_err;\n            }\n            if (response instanceof Promise) {\n                return new Promise((res, rej) => {\n                    response\n                        .then((r) => {\n                        res(handleResponse(r));\n                    })\n                        .catch((err) => {\n                        err = handleError(err);\n                        if (err instanceof Error) {\n                            rej(err);\n                        }\n                        else {\n                            res(err);\n                        }\n                    });\n                });\n            }\n            else {\n                return handleResponse(response);\n            }\n        };\n    };\n}\nexport { formResponse };\n//# sourceMappingURL=decorators.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { CognitoUserPool, CognitoUserAttribute, CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js';\nimport SkapiError from './skapi_error';\nimport { formResponse } from './decorators';\nimport { checkParams, extractFormMetaData, validateUserId, validateBirthdate, validateEmail, validatePassword, validatePhoneNumber, validateUrl, normalize_record_data, checkWhiteSpaceAndSpecialChars, MD5 } from './utils';\nexport default class Skapi {\n    get user() {\n        if (this.__user && Object.keys(this.__user).length) {\n            return JSON.parse(JSON.stringify(this.__user));\n        }\n        else {\n            return null;\n        }\n    }\n    set user(value) {\n    }\n    constructor(service_id, service_owner, autoLogin = false) {\n        this.cognitoUser = null;\n        this.__disabledAccount = null;\n        this.__serviceHash = {};\n        this.__pendingRequest = {};\n        this.__cached_requests = {};\n        this.__startKey_keys = {};\n        this.__request_signup_confirmation = null;\n        this.__index_number_range = 4503599627370496;\n        this.__class_properties_has_been_cached = false;\n        this.session = null;\n        this.__user = null;\n        this.connection = null;\n        this.host = 'skapi';\n        this.hostDomain = 'skapi.com';\n        this.userPool = null;\n        this.regex = {\n            validateUserId(val) {\n                try {\n                    validateUserId(val);\n                    return true;\n                }\n                catch (err) {\n                    return false;\n                }\n            },\n            validateUrl(val) {\n                try {\n                    validateUrl(val);\n                    return true;\n                }\n                catch (err) {\n                    return false;\n                }\n            },\n            validatePhoneNumber(val) {\n                try {\n                    validatePhoneNumber(val);\n                    return true;\n                }\n                catch (err) {\n                    return false;\n                }\n            },\n            validateBirthdate(val) {\n                try {\n                    validateBirthdate(val);\n                    return true;\n                }\n                catch (err) {\n                    return false;\n                }\n            },\n            validateEmail(val) {\n                try {\n                    validateEmail(val);\n                    return true;\n                }\n                catch (err) {\n                    return false;\n                }\n            }\n        };\n        this.update_startKey_keys = async (option) => {\n            let { hashedParam, url, response } = option;\n            let fetched = null;\n            if (response instanceof Promise) {\n                fetched = await response;\n            }\n            else {\n                fetched = response;\n            }\n            if (typeof fetched !== 'object' ||\n                !fetched.hasOwnProperty('startKey') ||\n                !hashedParam ||\n                !url) {\n                return fetched;\n            }\n            if (!this.__startKey_keys.hasOwnProperty(url)) {\n                this.__startKey_keys[url] = {};\n            }\n            if (!this.__cached_requests?.[url]) {\n                this.__cached_requests[url] = {};\n            }\n            this.__cached_requests[url][hashedParam] = fetched;\n            if (!this.__startKey_keys[url].hasOwnProperty(hashedParam)) {\n                this.__startKey_keys[url][hashedParam] = [];\n            }\n            let startKey_string = JSON.stringify(fetched.startKey);\n            if (!this.__startKey_keys[url][hashedParam].includes(startKey_string)) {\n                this.__startKey_keys[url][hashedParam].push(startKey_string);\n            }\n            this.__cached_requests[url][hashedParam] = fetched;\n            return Object.assign({ startKey_list: this.__startKey_keys[url][hashedParam] }, fetched);\n        };\n        this._fetch = async (url, opt, responseType) => {\n            let response = await fetch(url, opt);\n            if (responseType) {\n                if (response.status === 200) {\n                    return await response[responseType]();\n                }\n                else {\n                    throw response;\n                }\n            }\n            let received = await response.text();\n            try {\n                received = JSON.parse(received);\n            }\n            catch (err) {\n            }\n            if (response.status === 200) {\n                if (typeof received === 'object' && opt.method === 'GET' && received.hasOwnProperty('body')) {\n                    try {\n                        received = JSON.parse(received.body);\n                    }\n                    catch (err) { }\n                }\n                return received;\n            }\n            else {\n                let status = response?.status;\n                let errCode = [\n                    'INVALID_CORS',\n                    'INVALID_REQUEST',\n                    'SERVICE_DISABLED',\n                    'INVALID_PARAMETER',\n                    'ERROR',\n                    'EXISTS',\n                    'NOT_EXISTS'\n                ];\n                if (typeof received === 'object' && received?.message) {\n                    let code = ((status ? status.toString() : null) || 'ERROR');\n                    throw new SkapiError(received?.message, { code: code });\n                }\n                else if (typeof received === 'string') {\n                    let errMsg = received.split(':');\n                    let code = errMsg.splice(0, 1)[0];\n                    throw new SkapiError(errMsg.join(''), { code: (errCode.includes(code) ? code : 'ERROR') });\n                }\n                throw response;\n            }\n        };\n        this._get = async (url, params, option) => {\n            if (params && typeof params === 'object' && Object.keys(params).length) {\n                if (url.substring(url.length - 1) !== '?') {\n                    url = url + '?';\n                }\n                let query = Object.keys(params)\n                    .map(k => {\n                    let value = params[k];\n                    if (typeof value !== 'string') {\n                        value = JSON.stringify(value);\n                    }\n                    return encodeURIComponent(k) + '=' + encodeURIComponent(value);\n                })\n                    .join('&');\n                url += query;\n            }\n            let responseType = null;\n            if (option.hasOwnProperty('responseType')) {\n                responseType = option.responseType;\n                delete option.responseType;\n            }\n            let opt = Object.assign({\n                method: 'GET'\n            }, option);\n            return this._fetch(url, opt, responseType);\n        };\n        if (typeof service_id !== 'string' || typeof service_owner !== 'string') {\n            throw new SkapiError('\"service_id\" and \"service_owner\" should be type <string>.', { code: 'INVALID_PARAMETER' });\n        }\n        if (!service_id || !service_owner) {\n            throw new SkapiError('\"service_id\" and \"service_owner\" is required', { code: 'INVALID_PARAMETER' });\n        }\n        if (service_owner !== this.host) {\n            validateUserId(service_owner, '\"service_owner\"');\n        }\n        this.service = service_id;\n        this.service_owner = service_owner;\n        const cdn_domain = 'https://dkls9pxkgz855.cloudfront.net';\n        let sreg = service_id.substring(0, 4);\n        this.admin_endpoint = fetch(`${cdn_domain}/${sreg}/admin.json`)\n            .then(response => response.blob())\n            .then(blob => new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onloadend = () => resolve(reader.result);\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        }))\n            .then(data => typeof data === 'string' ? JSON.parse(window.atob(data.split(',')[1])) : null);\n        this.record_endpoint = fetch(`${cdn_domain}/${sreg}/record.json`)\n            .then(response => response.blob())\n            .then(blob => new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onloadend = () => resolve(reader.result);\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        }))\n            .then(data => typeof data === 'string' ? JSON.parse(window.atob(data.split(',')[1])) : null);\n        this.__connection = (async (skapi) => {\n            if (!window.sessionStorage) {\n                throw new Error(`This browser does not support skapi.`);\n            }\n            const restore = JSON.parse(window.sessionStorage.getItem(`${service_id}#${service_owner}`) || 'null');\n            if (restore?.connection) {\n                for (let k in restore) {\n                    skapi[k] = restore[k];\n                }\n            }\n            const admin_endpoint = await skapi.admin_endpoint;\n            skapi.userPool = new CognitoUserPool({\n                UserPoolId: admin_endpoint.userpool_id,\n                ClientId: admin_endpoint.userpool_client\n            });\n            const process = [\n                skapi.updateConnection()\n            ];\n            if (restore?.connection || autoLogin) {\n                process.push(skapi.authentication().updateSession({ refreshToken: !!restore?.connection }).catch(err => {\n                    skapi.user = null;\n                }));\n            }\n            await Promise.all(process);\n            const storeClassProperties = () => {\n                if (skapi.__class_properties_has_been_cached) {\n                    return;\n                }\n                let data = {};\n                const to_be_cached = [\n                    '__startKey_keys',\n                    '__cached_requests',\n                    '__request_signup_confirmation',\n                    'connection',\n                ];\n                if (skapi.connection) {\n                    for (let k of to_be_cached) {\n                        data[k] = skapi[k];\n                    }\n                    sessionStorage.setItem(`${service_id}#${service_owner}`, JSON.stringify(data));\n                    skapi.__class_properties_has_been_cached = true;\n                }\n            };\n            window.addEventListener('beforeunload', storeClassProperties);\n            window.addEventListener(\"visibilitychange\", storeClassProperties);\n            return skapi.connection;\n        })(this).catch(err => { throw err; });\n    }\n    static async connect(service_id, service_owner, autoLogin = false) {\n        const skapi = new Skapi(service_id, service_owner, autoLogin);\n        await skapi.__connection;\n        return skapi;\n    }\n    authentication() {\n        if (!this.userPool) {\n            throw new SkapiError('User pool is missing', { code: 'INVALID_REQUEST' });\n        }\n        const updateSession = (option) => {\n            let { refreshToken = false } = option || {};\n            return new Promise((res, rej) => {\n                let currentUser = this.userPool?.getCurrentUser() || null;\n                this.cognitoUser = currentUser;\n                if (currentUser === null) {\n                    rej(null);\n                }\n                currentUser.getSession((err, session) => {\n                    if (err) {\n                        rej(err);\n                    }\n                    const updateAttributes = async (sessionToMerge) => {\n                        if (sessionToMerge.isValid() && currentUser) {\n                            currentUser.getUserAttributes((attrErr, attributes) => {\n                                if (attrErr) {\n                                    rej(attrErr);\n                                }\n                                else {\n                                    let normalized_attributes = {};\n                                    let user = {};\n                                    for (let i of attributes) {\n                                        normalized_attributes[i.Name] = i.Value;\n                                        let key_1 = i.Name.replace('custom:', '');\n                                        user[key_1] = i.Value;\n                                        if (i.Name === 'custom:service' && normalized_attributes[i.Name] !== this.service) {\n                                            rej(new SkapiError('The user is not registered to the service.', { code: 'INVALID_REQUEST' }));\n                                        }\n                                    }\n                                    for (let k of [\n                                        'address_public',\n                                        'birthdate_public',\n                                        'email_public',\n                                        'email_subscription',\n                                        'gender_public',\n                                        'phone_number_public'\n                                    ]) {\n                                        if (k.includes('_public')) {\n                                            if (user.hasOwnProperty(k.split('_')[0])) {\n                                                user[k] = user.hasOwnProperty(k) ? Number(user[k]) : 0;\n                                            }\n                                            else {\n                                                delete user[k];\n                                            }\n                                        }\n                                        else {\n                                            user[k] = user.hasOwnProperty(k) ? Number(user[k]) : 0;\n                                        }\n                                    }\n                                    for (let k of [\n                                        'email_verified',\n                                        'phone_number_verified'\n                                    ]) {\n                                        if (user[k.split('_')[0]]) {\n                                            user[k] = user.hasOwnProperty(k) ? user[k] === 'true' : false;\n                                        }\n                                        else if (user.hasOwnProperty(k)) {\n                                            delete user[k];\n                                        }\n                                    }\n                                    sessionToMerge.attributes = normalized_attributes;\n                                    this.session = sessionToMerge;\n                                    user.access_group = Number(this.session.idToken.payload.access_group);\n                                    user.user_id = user.sub;\n                                    delete user.sub;\n                                    this.__user = user;\n                                    res(user);\n                                }\n                            });\n                        }\n                        else {\n                            rej(new SkapiError('Invalid session.', { code: 'INVALID_REQUEST' }));\n                        }\n                    };\n                    if (session) {\n                        if (refreshToken) {\n                            currentUser?.refreshSession(session.getRefreshToken(), (refreshErr, refreshedSession) => {\n                                if (refreshErr) {\n                                    rej(refreshErr);\n                                }\n                                updateAttributes(refreshedSession).catch(err => rej(err));\n                            });\n                        }\n                        else {\n                            updateAttributes(session).catch(err => rej(err));\n                        }\n                    }\n                    else {\n                        rej(new SkapiError('Current session does not exist.', { code: 'INVALID_REQUEST' }));\n                    }\n                });\n            });\n        };\n        const createCognitoUser = async (email) => {\n            let hash = null;\n            if (email) {\n                hash = this.__serviceHash[email] || (await this.updateConnection({ request_hash: email })).hash;\n            }\n            else {\n                if (this.session) {\n                    hash = this.session.idToken.payload['cognito:username'];\n                }\n                else {\n                    throw new SkapiError('E-Mail is required.', { code: 'INVALID_PARAMETER' });\n                }\n            }\n            return {\n                cognitoUser: new CognitoUser({\n                    Username: hash,\n                    Pool: this.userPool\n                }),\n                cognitoUsername: hash\n            };\n        };\n        const authenticateUser = (username, password) => {\n            return new Promise(async (res, rej) => {\n                this.logout();\n                this.__request_signup_confirmation = null;\n                this.__disabledAccount = null;\n                let initUser = await createCognitoUser(username);\n                this.cognitoUser = initUser.cognitoUser;\n                username = initUser.cognitoUsername;\n                let authenticationDetails = new AuthenticationDetails({\n                    Username: username,\n                    Password: password\n                });\n                this.cognitoUser.authenticateUser(authenticationDetails, {\n                    newPasswordRequired: (userAttributes, requiredAttributes) => {\n                        this.__request_signup_confirmation = username;\n                        rej(new SkapiError(\"User's signup confirmation is required.\", { code: 'SIGNUP_CONFIRMATION_NEEDED' }));\n                    },\n                    onSuccess: (logged) => {\n                        updateSession().then(session => {\n                            res(session);\n                        });\n                    },\n                    onFailure: (err) => {\n                        let error = [err.message || 'Failed to authenticate user.', err?.code || 'INVALID_REQUEST'];\n                        if (err.code === \"NotAuthorizedException\") {\n                            if (err.message === \"User is disabled.\") {\n                                this.__disabledAccount = username;\n                                error = ['This account is disabled.', 'USER_IS_DISABLED'];\n                            }\n                            else {\n                                error = ['Incorrect username or password.', 'INCORRECT_USERNAME_OR_PASSWORD'];\n                            }\n                        }\n                        rej(new SkapiError(error[0], { code: error[1], cause: err }));\n                    }\n                });\n            });\n        };\n        return { updateSession, authenticateUser, createCognitoUser };\n    }\n    async requireAdmin(option) {\n        if (this.session?.attributes?.['custom:service'] === this.service) {\n            if (this.session?.attributes?.['custom:service_owner'] === this.host) {\n                if (!option?.ignoreVerification && !this.session?.attributes?.email_verified) {\n                    throw new SkapiError('Email verification is required.', { code: 'INVALID_REQUEST' });\n                }\n                return true;\n            }\n            if (option?.throwError) {\n                throw new SkapiError('Admin access is required.', { code: 'INVALID_REQUEST' });\n            }\n        }\n        else {\n            this.logout();\n            if (option?.throwError) {\n                throw new SkapiError('User login is required.', { code: 'INVALID_REQUEST' });\n            }\n        }\n        return false;\n    }\n    async getBlob(params, option) {\n        let p = checkParams(params, {\n            url: (v) => validateUrl(v)\n        }, ['url']);\n        return await this.request(p.url, option || null, { method: 'get', auth: p.url.includes('/auth/'), contentType: null, responseType: 'blob' });\n    }\n    async mock(data, options) {\n        return this.request('test-api', data, options);\n    }\n    async secureRequest(request) {\n        let paramsStruct = {\n            url: (v) => {\n                return validateUrl(v);\n            },\n            data: null,\n            sync: ['boolean', () => true]\n        };\n        if (Array.isArray(request)) {\n            for (let r of request) {\n                r = checkParams(r, paramsStruct);\n            }\n        }\n        else {\n            request = checkParams(request, paramsStruct);\n        }\n        return await this.request('post-secure', request, { auth: true });\n    }\n    getFormResponse() {\n        let params = new URLSearchParams(window.location.search);\n        for (let [key, val] of params.entries()) {\n            if (key.substring(0, 5) !== 'form-') {\n                continue;\n            }\n            let stored = window.sessionStorage.getItem(key);\n            if (stored) {\n                window.sessionStorage.removeItem(key);\n                try {\n                    stored = JSON.parse(stored);\n                }\n                catch (err) { }\n            }\n            if (typeof stored === 'object' && stored[val]) {\n                return stored[val];\n            }\n            else {\n                continue;\n            }\n        }\n        return null;\n    }\n    async request(url, data = null, options = {}) {\n        let { auth = false, method = 'post', meta = null, bypassAwaitConnection = false } = options;\n        let __connection = bypassAwaitConnection ? null : (await this.__connection);\n        let token = auth ? this.session?.idToken?.jwtToken : null;\n        if (auth) {\n            if (!token) {\n                this.logout();\n                throw new SkapiError('User login is required.', { code: 'INVALID_REQUEST' });\n            }\n        }\n        let isExternalUrl = '';\n        try {\n            isExternalUrl = validateUrl(url);\n        }\n        catch (err) {\n        }\n        const getEndpoint = async (dest, auth) => {\n            const endpoints = await Promise.all([\n                this.admin_endpoint,\n                this.record_endpoint\n            ]);\n            const admin = endpoints[0];\n            const record = endpoints[1];\n            const get_ep = () => {\n                switch (dest) {\n                    case 'get-serviceletters':\n                    case 'delete-newsletter':\n                    case 'block-account':\n                    case 'register-service':\n                    case 'get-users':\n                    case 'post-userdata':\n                    case 'remove-account':\n                    case 'post-secure':\n                    case 'get-newsletters':\n                    case 'subscribe-newsletter':\n                    case 'signup':\n                    case 'confirm-signup':\n                    case 'recover-account':\n                    case 'test-api':\n                    case 'service':\n                        return {\n                            public: admin.admin_public,\n                            private: admin.admin_private\n                        };\n                    case 'post-record':\n                    case 'get-records':\n                    case 'subscription':\n                    case 'get-subscription':\n                    case 'del-records':\n                    case 'get-table':\n                    case 'get-tag':\n                    case 'get-index':\n                    case 'storage-info':\n                        return {\n                            private: record.record_private,\n                            public: record.record_public\n                        };\n                }\n            };\n            return get_ep()[auth ? 'private' : 'public'] + dest;\n        };\n        let endpoint = isExternalUrl || (await getEndpoint(url, !!auth));\n        let service = this.session?.attributes?.['custom:service'] || __connection?.service || this.service;\n        let service_owner = this.session?.attributes?.['custom:service_owner'] || __connection?.owner || this.service_owner;\n        if (meta) {\n            if (typeof meta === 'object' && !Array.isArray(meta)) {\n                meta = JSON.parse(JSON.stringify(meta));\n            }\n            else {\n                throw new SkapiError('Invalid meta data.', { code: 'INVALID_REQUEST' });\n            }\n        }\n        if (Array.isArray(data) || data && typeof data !== 'object') {\n            throw new SkapiError('Request data should be a JSON Object | FormData | HTMLFormElement.', { code: 'INVALID_REQUEST' });\n        }\n        let required = { service, service_owner };\n        let fetchOptions = {};\n        let { refresh = false } = options.fetchOptions || {};\n        if (options.fetchOptions && Object.keys(options.fetchOptions).length) {\n            let fetOpt = checkParams({\n                limit: options?.fetchOptions?.limit || 100,\n                startKey: options?.fetchOptions?.startKey || null,\n                ascending: typeof options?.fetchOptions?.ascending === 'boolean' ? options.fetchOptions.ascending : true\n            }, {\n                limit: ['number', () => 100],\n                startKey: null,\n                ascending: ['boolean', () => true]\n            });\n            if (fetOpt.hasOwnProperty('limit') && typeof fetOpt.limit === 'number') {\n                if (fetOpt.limit > 1000) {\n                    throw new SkapiError('Fetch limit should be below 1000.', { code: 'INVALID_REQUEST' });\n                }\n                Object.assign(fetchOptions, { limit: fetOpt.limit });\n            }\n            if (fetOpt.hasOwnProperty('startKey') && typeof fetOpt.startKey === 'object' && fetOpt.startKey && Object.keys(fetOpt.startKey)) {\n                Object.assign(fetchOptions, { startKey: fetOpt.startKey });\n            }\n            if (fetOpt.hasOwnProperty('ascending') && typeof fetOpt.ascending === 'boolean') {\n                Object.assign(fetchOptions, { ascending: fetOpt.ascending });\n            }\n        }\n        Object.assign(required, fetchOptions);\n        let metaData = extractFormMetaData(data);\n        let isForm = metaData?.meta;\n        let fileKeys = metaData?.files || [];\n        let normalize_form = async (data, isForm, addRequired = false) => {\n            if (isForm === null) {\n                return data;\n            }\n            let isFormEl = false;\n            if (data instanceof HTMLFormElement) {\n                data = new FormData(data);\n                isFormEl = true;\n            }\n            if (!(data instanceof FormData)) {\n                return data;\n            }\n            if (addRequired) {\n                for (let k in required) {\n                    if (required[k] !== undefined) {\n                        data.set(k, typeof required[k] === 'string' ? required[k] : new Blob([JSON.stringify(required[k])], {\n                            type: 'application/json'\n                        }));\n                    }\n                }\n            }\n            for (let k in isForm) {\n                if (isForm[k] !== undefined) {\n                    data[fileKeys.includes(k) ? \"append\" : \"set\"](k, typeof isForm[k] === 'string' ? isForm[k] : new Blob([JSON.stringify(isForm[k])], {\n                        type: 'application/json'\n                    }));\n                }\n            }\n            if (options?.fetchOptions?.formData) {\n                if (typeof options?.fetchOptions?.formData === 'function') {\n                    if (!isFormEl) {\n                        throw new SkapiError('Form data should be HTMLFormElement when formData() callback is used.', { code: 'INVALID_PARAMETER' });\n                    }\n                    let cb = options.fetchOptions.formData(data);\n                    if (cb instanceof Promise) {\n                        cb = await cb;\n                    }\n                    if (cb instanceof FormData) {\n                        data = cb;\n                    }\n                    else {\n                        throw new SkapiError('Callback for extractFormData() should return FormData', { code: 'INVALID_PARAMETER' });\n                    }\n                }\n                else {\n                    throw new SkapiError('Callback \"formData\" should type: function.', { code: 'INVALID_PARAMETER' });\n                }\n            }\n            return data;\n        };\n        if (meta) {\n            meta = Object.assign(required, meta);\n            data = await normalize_form(data, isForm);\n        }\n        else {\n            if (!data && isForm === null) {\n                data = required;\n            }\n            else {\n                if (isForm) {\n                    data = await normalize_form(data, isForm, true);\n                }\n                else {\n                    data = Object.assign(required, data);\n                }\n            }\n        }\n        let requestKey = this.load_startKey_keys({\n            params: data,\n            url: isExternalUrl || url,\n            refresh: isForm ? true : refresh\n        });\n        if (requestKey && typeof requestKey === 'object') {\n            return requestKey;\n        }\n        if (typeof requestKey === 'string') {\n            if (!(this.__pendingRequest[requestKey] instanceof Promise)) {\n                let headers = {\n                    'Accept': '*/*'\n                };\n                if (token) {\n                    headers.Authorization = token;\n                }\n                if (meta) {\n                    headers[\"Content-Meta\"] = JSON.stringify(meta);\n                }\n                if (options.hasOwnProperty('contentType')) {\n                    if (options?.contentType) {\n                        headers[\"Content-Type\"] = options.contentType;\n                    }\n                }\n                else if (!(data instanceof FormData)) {\n                    headers[\"Content-Type\"] = 'application/json';\n                }\n                let opt = { headers };\n                if (options?.responseType) {\n                    opt.responseType = options.responseType;\n                }\n                if (method === 'post') {\n                    this.__pendingRequest[requestKey] = this._post(endpoint, data, opt);\n                }\n                else if (method === 'get') {\n                    this.__pendingRequest[requestKey] = this._get(endpoint, data, opt);\n                }\n            }\n            try {\n                let response = await this.__pendingRequest[requestKey];\n                if (isForm) {\n                    return response;\n                }\n                else {\n                    return await this.update_startKey_keys({\n                        hashedParam: requestKey,\n                        url,\n                        response\n                    });\n                }\n            }\n            catch (err) {\n                throw err;\n            }\n            finally {\n                if (requestKey && this.__pendingRequest.hasOwnProperty(requestKey)) {\n                    delete this.__pendingRequest[requestKey];\n                }\n            }\n        }\n    }\n    load_startKey_keys(option) {\n        let { params = {}, url, refresh = false } = option || {};\n        if (params.hasOwnProperty('startKey') && params.startKey) {\n            if (typeof params.startKey !== 'object' && !Object.keys(params.startKey).length &&\n                params.startKey !== 'start' && params.startKey !== 'end') {\n                throw new SkapiError(`\"${params.startKey}\" is invalid startKey key.`, { code: 'INVALID_PARAMETER' });\n            }\n            switch (params.startKey) {\n                case 'end':\n                    return {\n                        list: [],\n                        startKey: 'end',\n                        endOfList: true\n                    };\n                case 'start':\n                    delete params.startKey;\n            }\n        }\n        let hashedParams = (() => {\n            if (params && typeof params === 'object' && Object.keys(params).length) {\n                function orderObjectKeys(obj) {\n                    function sortObject(obj) {\n                        if (typeof obj === 'object' && obj) {\n                            return Object.keys(obj).sort().reduce((res, key) => (res[key] = obj[key], res), {});\n                        }\n                        return obj;\n                    }\n                    ;\n                    let _obj = sortObject(obj);\n                    for (let k in _obj) {\n                        if (_obj[k] && typeof _obj[k] === 'object') {\n                            _obj[k] = sortObject(obj[k]);\n                        }\n                    }\n                    return _obj;\n                }\n                return MD5.hash(url + '/' + JSON.stringify(orderObjectKeys(params)));\n            }\n            return MD5.hash(url + '/' + this.service);\n        })();\n        if (refresh && this.__startKey_keys?.[url]?.[hashedParams]) {\n            if (this.__cached_requests?.[url] && this.__cached_requests?.[url]?.[hashedParams]) {\n                delete this.__cached_requests[url][hashedParams];\n            }\n            if (Array.isArray(this.__startKey_keys[url][hashedParams]) && this.__startKey_keys[url][hashedParams].length) {\n                for (let p of this.__startKey_keys[url][hashedParams]) {\n                    let hashedParams_cached = hashedParams + '/' + MD5.hash(JSON.stringify(p));\n                    if (this.__cached_requests?.[url] && this.__cached_requests?.[url]?.[hashedParams_cached]) {\n                        delete this.__cached_requests[url][hashedParams_cached];\n                    }\n                }\n            }\n            delete this.__startKey_keys[url][hashedParams];\n            return hashedParams;\n        }\n        if (!Array.isArray(this.__startKey_keys?.[url]?.[hashedParams])) {\n            return hashedParams;\n        }\n        let list_of_startKeys = this.__startKey_keys[url][hashedParams];\n        let last_startKey_key = list_of_startKeys[list_of_startKeys.length - 1];\n        let cache_hashedParams = hashedParams;\n        if (last_startKey_key) {\n            if (last_startKey_key === '\"end\"') {\n                return {\n                    list: [],\n                    startKey: 'end',\n                    endOfList: true\n                };\n            }\n            else {\n                cache_hashedParams += MD5.hash(last_startKey_key);\n                params.startKey = JSON.parse(last_startKey_key);\n            }\n        }\n        if (this.__cached_requests?.[url]?.[cache_hashedParams]) {\n            return this.__cached_requests?.[url]?.[cache_hashedParams];\n        }\n        return hashedParams;\n    }\n    _post(url, params, option) {\n        let responseType = null;\n        if (option.hasOwnProperty('responseType')) {\n            responseType = option.responseType;\n            delete option.responseType;\n        }\n        let opt = Object.assign({\n            method: 'POST'\n        }, option, {\n            body: params instanceof FormData ? params : JSON.stringify(params)\n        });\n        return this._fetch(url, opt, responseType);\n    }\n    async postRecord(form, option) {\n        let is_admin = await this.requireAdmin({ ignoreVerification: true });\n        if (!option) {\n            throw new SkapiError(['INVALID_PARAMETER', '\"option\" argument is required.']);\n        }\n        let { formData } = option;\n        let fetchOptions = {};\n        if (typeof formData === 'function') {\n            fetchOptions.formData = formData;\n        }\n        option = checkParams(option || {}, {\n            record_id: 'string',\n            access_group: ['number', 'private'],\n            table: 'string',\n            subscription_group: 'number',\n            reference: ['string', null],\n            index: {\n                name: 'string',\n                value: ['string', 'number', 'boolean']\n            },\n            tags: (v) => {\n                if (v === null) {\n                    return v;\n                }\n                if (typeof v === 'string') {\n                    return [v];\n                }\n                if (Array.isArray(v)) {\n                    for (let i of v) {\n                        if (typeof i !== 'string') {\n                            throw new SkapiError(`\"tags\" should be type: <string | string[]>`, { code: 'INVALID_PARAMETER' });\n                        }\n                    }\n                    return v;\n                }\n                throw new SkapiError(`\"tags\" should be type: <string | string[]>`, { code: 'INVALID_PARAMETER' });\n            },\n            config: {\n                reference_limit: (v) => {\n                    if (v === null) {\n                        return null;\n                    }\n                    else if (typeof v === 'number') {\n                        if (0 > v) {\n                            throw new SkapiError(`\"reference_limit\" should be >= 0`, { code: 'INVALID_PARAMETER' });\n                        }\n                        if (v > 4503599627370546) {\n                            throw new SkapiError(`\"reference_limit\" should be <= 4503599627370546`, { code: 'INVALID_PARAMETER' });\n                        }\n                        return v;\n                    }\n                    throw new SkapiError(`\"reference_limit\" should be type: <number | null>`, { code: 'INVALID_PARAMETER' });\n                },\n                allow_multiple_reference: 'boolean',\n                private_access: (v) => {\n                    let param = 'config.private_access';\n                    if (v === null) {\n                        return null;\n                    }\n                    if (v && typeof v === 'string') {\n                        v = [v];\n                    }\n                    if (Array.isArray(v)) {\n                        for (let u of v) {\n                            validateUserId(u, `User ID in \"${param}\"`);\n                            if (this.__user && u === this.__user.user_id) {\n                                throw new SkapiError(`\"${param}\" should not be the uploader's user ID.`, { code: 'INVALID_PARAMETER' });\n                            }\n                        }\n                    }\n                    else {\n                        throw new SkapiError(`\"${param}\" should be an array of user ID.`, { code: 'INVALID_PARAMETER' });\n                    }\n                    return v;\n                }\n            }\n        }, [], ['response', 'formData', 'onerror']);\n        delete option.response;\n        delete option.formData;\n        delete option.onerror;\n        if (!option?.table && !option?.record_id) {\n            throw new SkapiError('Either \"record_id\" or \"table\" should have a value.', { code: 'INVALID_PARAMETER' });\n        }\n        if (option?.index) {\n            if (!option.index?.name || typeof option.index?.name !== 'string') {\n                throw new SkapiError('\"index.name\" is required. type: string.', { code: 'INVALID_PARAMETER' });\n            }\n            checkWhiteSpaceAndSpecialChars(option.index.name, 'index name', true);\n            if (!option.index.hasOwnProperty('value')) {\n                throw new SkapiError('\"index.value\" is required.', { code: 'INVALID_PARAMETER' });\n            }\n            if (typeof option.index.value === 'string') {\n                checkWhiteSpaceAndSpecialChars(option.index.value, 'index value', false, true);\n            }\n            else if (typeof option.index.value === 'number') {\n                if (option.index.value > this.__index_number_range || option.index.value < -this.__index_number_range) {\n                    throw new SkapiError(`Number value should be within range -${this.__index_number_range} ~ +${this.__index_number_range}`, { code: 'INVALID_PARAMETER' });\n                }\n            }\n        }\n        if (is_admin) {\n            if (option?.access_group === 'private') {\n                throw new SkapiError('Service owner cannot write private records.', { code: 'INVALID_REQUEST' });\n            }\n            if (option.hasOwnProperty('subscription_group')) {\n                throw new SkapiError('Service owner cannot write to subscription table.', { code: 'INVALID_REQUEST' });\n            }\n        }\n        let options = { auth: true };\n        let postData = null;\n        if (form instanceof HTMLFormElement || form instanceof FormData) {\n            Object.assign(options, { meta: option });\n        }\n        else {\n            postData = Object.assign({ data: form }, option);\n        }\n        if (Object.keys(fetchOptions).length) {\n            Object.assign(options, { fetchOptions });\n        }\n        return normalize_record_data(await this.request('post-record', postData || form, options));\n    }\n    async getRecords(params, fetchOptions) {\n        const indexTypes = {\n            '$record_id': 'string',\n            '$updated': 'number',\n            '$uploaded': 'number',\n            '$referenced_count': 'number'\n        };\n        const struct = {\n            table: 'string',\n            reference: 'string',\n            access_group: ['number', 'private'],\n            subscription: {\n                user_id: (v) => validateUserId(v, 'User ID in \"subscription.user_id\"'),\n                group: 'number'\n            },\n            index: {\n                name: (v) => {\n                    if (typeof v !== 'string') {\n                        throw new SkapiError('\"index.name\" should be type: string.', { code: 'INVALID_PARAMETER' });\n                    }\n                    if (indexTypes.hasOwnProperty(v)) {\n                        return v;\n                    }\n                    return checkWhiteSpaceAndSpecialChars(v, 'index.name', true, false);\n                },\n                value: (v) => {\n                    if (params.index?.name && indexTypes.hasOwnProperty(params.index.name)) {\n                        let tp = indexTypes[params.index.name];\n                        if (typeof v === tp) {\n                            return v;\n                        }\n                        else {\n                            throw new SkapiError(`\"index.value\" should be type: ${tp}.`, { code: 'INVALID_PARAMETER' });\n                        }\n                    }\n                    if (typeof v === 'number') {\n                        if (v > this.__index_number_range || v < -this.__index_number_range) {\n                            throw new SkapiError(`Number value should be within range -${this.__index_number_range} ~ +${this.__index_number_range}`, { code: 'INVALID_PARAMETER' });\n                        }\n                        return v;\n                    }\n                    else if (typeof v === 'boolean') {\n                        return v;\n                    }\n                    else {\n                        return checkWhiteSpaceAndSpecialChars(v, 'index.value', false, true);\n                    }\n                },\n                condition: ['gt', 'gte', 'lt', 'lte', '>', '>=', '<', '<=', '=', 'eq', '!=', 'ne'],\n                range: (v) => {\n                    if (!('value' in params.index)) {\n                        throw new SkapiError('\"index.value\" is required.', { code: 'INVALID_PARAMETER' });\n                    }\n                    if (params.index.name === '$record_id') {\n                        throw new SkapiError(`Cannot do \"index.range\" on ${params.index.name}`, { code: 'INVALID_PARAMETER' });\n                    }\n                    if (typeof params.index.value !== typeof v) {\n                        throw new SkapiError('\"index.range\" type should match the type of \"index.value\".', { code: 'INVALID_PARAMETER' });\n                    }\n                    if (typeof v === 'string') {\n                        return checkWhiteSpaceAndSpecialChars(v, 'index.value');\n                    }\n                    return v;\n                }\n            },\n            tags: 'string'\n        };\n        params = checkParams(params || {}, struct, ['table']);\n        if (params?.subscription && !this.session) {\n            throw new SkapiError('Requires login.', { code: 'INVALID_REQUEST' });\n        }\n        let result = await this.request('get-records', params, Object.assign({ auth: params.hasOwnProperty('access_group') && (params.access_group === 'private' || params.access_group > 0) ? true : !!this.__user }, { fetchOptions }));\n        for (let i in result.list) {\n            result.list[i] = normalize_record_data(result.list[i]);\n        }\n        ;\n        return result;\n    }\n    async getTable(params, fetchOptions) {\n        let res = await this.request('get-table', checkParams(params || {}, {\n            table: 'string',\n            condition: ['gt', 'gte', 'lt', 'lte', '>', '>=', '<', '<=', '=', 'eq', '!=', 'ne']\n        }), Object.assign({ auth: true }, { fetchOptions }));\n        let convert = {\n            'cnt_rec': 'number_of_records',\n            'tbl': 'table',\n            'srvc': 'service'\n        };\n        if (Array.isArray(res.list)) {\n            for (let t of res.list) {\n                for (let k in convert) {\n                    if (t.hasOwnProperty(k)) {\n                        t[convert[k]] = t[k];\n                        delete t[k];\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    async getIndex(params, fetchOptions) {\n        let p = checkParams(params || {}, {\n            table: 'string',\n            index: (v) => checkWhiteSpaceAndSpecialChars(v, 'index name', true, false),\n            order_by: {\n                name: [\n                    'average_number',\n                    'total_number',\n                    'number_count',\n                    'average_bool',\n                    'total_bool',\n                    'bool_count',\n                    'string_count',\n                    'index_name'\n                ],\n                value: ['string', 'number', 'boolean'],\n                condition: ['gt', 'gte', 'lt', 'lte', '>', '>=', '<', '<=', '=', 'eq', '!=', 'ne']\n            }\n        }, ['table']);\n        if (p.hasOwnProperty('order_by')) {\n            if (p.order_by === 'index_name') {\n                if (!p.hasOwnProperty('index')) {\n                    throw new SkapiError('\"index\" is required for ordered by \"index_name\".', { code: 'INVALID_PARAMETER' });\n                }\n                if (p.index.substring(p.index.length - 1) !== '.') {\n                    throw new SkapiError('\"index\" should be parent \"index name\".', { code: 'INVALID_PARAMETER' });\n                }\n            }\n            if (p.order_by.hasOwnProperty('condition') && !p.order_by.hasOwnProperty('value')) {\n                throw new SkapiError('\"value\" is required for \"condition\".', { code: 'INVALID_PARAMETER' });\n            }\n        }\n        let res = await this.request('get-index', p, Object.assign({ auth: true }, { fetchOptions }));\n        let convert = {\n            'cnt_bool': 'boolean_count',\n            'cnt_numb': 'number_count',\n            'totl_numb': 'total_number',\n            'totl_bool': 'total_bool',\n            'avrg_numb': 'average_number',\n            'avrg_bool': 'average_bool',\n            'cnt_str': 'string_count'\n        };\n        if (Array.isArray(res.list)) {\n            res.list = res.list.map((i) => {\n                let iSplit = i.idx.split('/');\n                let resolved = {\n                    table: iSplit[1],\n                    index: iSplit[2],\n                    number_of_records: i.cnt_rec\n                };\n                for (let k in convert) {\n                    if (i?.[k]) {\n                        resolved[convert[k]] = i[k];\n                    }\n                    if (resolved?.number_of_number_values) {\n                        resolved.average_of_number_values = i.totl_numb / i.cnt_numb;\n                    }\n                    if (resolved?.number_of_boolean_values) {\n                        resolved.average_of_boolean_values = i.totl_bool / i.cnt_bool;\n                    }\n                }\n                return resolved;\n            });\n        }\n        return res;\n    }\n    async getTag(params, fetchOptions) {\n        let res = await this.request('get-tag', checkParams(params || {}, {\n            table: 'string',\n            tag: 'string',\n            condition: ['gt', 'gte', 'lt', 'lte', '>', '>=', '<', '<=', '=', 'eq', '!=', 'ne']\n        }), Object.assign({ auth: true }, { fetchOptions }));\n        if (Array.isArray(res.list)) {\n            for (let i in res.list) {\n                let item = res.list[i];\n                let tSplit = item.tag.split('/');\n                res.list[i] = {\n                    table: tSplit[1],\n                    tag: tSplit[0],\n                    number_of_records: item.cnt_rec\n                };\n            }\n        }\n        return res;\n    }\n    async deleteRecords(params) {\n        let isAdmin = await this.requireAdmin();\n        if (isAdmin && !params?.service) {\n            throw new SkapiError('Service ID is required.', { code: 'INVALID_PARAMETER' });\n        }\n        if (!isAdmin && !params?.table) {\n            throw new SkapiError('\"table\" is required.', { code: 'INVALID_PARAMETER' });\n        }\n        if (params?.record_id) {\n            return await this.request('del-records', {\n                service: params.service,\n                record_id: (v => {\n                    let id = checkWhiteSpaceAndSpecialChars(v, 'record_id', false);\n                    if (typeof id === 'string') {\n                        return [id];\n                    }\n                    return id;\n                })(params.record_id)\n            }, { auth: true });\n        }\n        else {\n            if (!params?.table) {\n                throw new SkapiError('Either \"table\" or \"record_id\" is required.', { code: 'INVALID_PARAMETER' });\n            }\n            let struct = {\n                access_group: ['number', 'private'],\n                table: {\n                    name: 'string',\n                    subscription: (v) => {\n                        if (isAdmin) {\n                            return validateUserId(v, 'User ID in \"table.subscription\"');\n                        }\n                        throw new SkapiError('\"table.subscription\" is an invalid parameter key.', { code: 'INVALID_PARAMETER' });\n                    },\n                    subscription_group: (v) => {\n                        if (isAdmin && typeof params?.table?.subscription !== 'string') {\n                            throw new SkapiError('\"table.subscription\" is required.', { code: 'INVALID_PARAMETER' });\n                        }\n                        if (typeof v === 'number') {\n                            if (v > 0 && v < 99) {\n                                return v;\n                            }\n                        }\n                        throw new SkapiError('Subscription group should be between 0 ~ 99.', { code: 'INVALID_PARAMETER' });\n                    }\n                }\n            };\n            params = checkParams(params || {}, struct, isAdmin ? ['service'] : ['table', 'access_group']);\n        }\n        return await this.request('del-records', params, { auth: true });\n    }\n    async subscribeNewsletter(form, option) {\n        let params = checkParams(form || {}, {\n            email: (v) => validateEmail(v),\n            bypassWelcome: ['boolean', () => true]\n        }, ['email']);\n        return await this.request('subscribe-newsletter', params);\n    }\n    async subscriptionGroupCheck(option) {\n        await this.__connection;\n        option = checkParams(option, {\n            user_id: (v) => validateUserId(v, '\"user_id\"'),\n            group: (v) => {\n                if (v === '*') {\n                    return v;\n                }\n                if (typeof v !== 'number') {\n                    throw new SkapiError('\"group\" should be type: number.', { code: 'INVALID_PARAMETER' });\n                }\n                else if (v < 1 && v > 9) {\n                    throw new SkapiError('\"group\" should be within range 1 ~ 9.', { code: 'INVALID_PARAMETER' });\n                }\n                return v;\n            }\n        }, ['user_id', 'group']);\n        if (this.__user && option.user_id === this.__user.user_id) {\n            throw new SkapiError(`\"user_id\" cannot be the user's own ID.`, { code: 'INVALID_PARAMETER' });\n        }\n        return option;\n    }\n    async subscribe(option) {\n        let { user_id, group } = await this.subscriptionGroupCheck(option);\n        if (group === '*') {\n            throw new SkapiError('Cannot subscribe to all groups at once.', { code: 'INVALID_PARAMETER' });\n        }\n        return await this.request('subscription', {\n            subscribe: user_id,\n            group\n        }, { auth: true });\n    }\n    async unsubscribe(option) {\n        let { user_id, group } = await this.subscriptionGroupCheck(option);\n        return await this.request('subscription', {\n            unsubscribe: user_id,\n            group\n        }, { auth: true });\n    }\n    async blockSubscriber(option) {\n        let { user_id, group } = await this.subscriptionGroupCheck(option);\n        return await this.request('subscription', { block: user_id, group }, { auth: true });\n    }\n    async unblockSubscriber(option) {\n        let { user_id, group } = await this.subscriptionGroupCheck(option);\n        return await this.request('subscription', { unblock: user_id, group }, { auth: true });\n    }\n    async getUserSubscriptions(option) {\n        await this.__connection;\n        option = checkParams(option, {\n            user_id: (v) => {\n                try {\n                    return validateUserId(v, '\"user_id\"');\n                }\n                catch (err) {\n                }\n                try {\n                    return validateEmail(v);\n                }\n                catch (err) {\n                }\n                throw new SkapiError('\"subscriber\" should be either valid user ID or E-Mail.', { code: 'INVALID_PARAMETER' });\n            },\n            group: 'number'\n        }) || {};\n        return this.getSubscriptions({\n            subscriber: option.user_id || this.__user?.user_id,\n            group: option.group\n        });\n    }\n    async getUserSubscribers(option) {\n        await this.__connection;\n        option = checkParams(option, {\n            user_id: (v) => validateUserId(v, '\"user_id\"'),\n            group: 'number'\n        }) || {};\n        let subParams = {\n            subscription: option.user_id || this.__user?.user_id,\n            group: option.group\n        };\n        return this.getSubscriptions(subParams);\n    }\n    async getSubscriptions(params, fetchOptions, _mapper) {\n        let isNewsletterSub = false;\n        params = checkParams(params, {\n            subscriber: (v) => {\n                try {\n                    return validateUserId(v, 'User ID in \"subscriber\"');\n                }\n                catch (err) {\n                }\n                try {\n                    let isEmail = validateEmail(v);\n                    isNewsletterSub = true;\n                    return isEmail;\n                }\n                catch (err) {\n                }\n                throw new SkapiError('\"subscriber\" should be either valid user ID or E-Mail.', { code: 'INVALID_PARAMETER' });\n            },\n            group: 'number',\n            subscription: (v) => {\n                try {\n                    return validateUserId(v, 'User ID in \"subscription\"');\n                }\n                catch (err) {\n                }\n                if (typeof v === 'string' && v.length === 14) {\n                    return v;\n                }\n                throw new SkapiError('\"subscriber\" should be either valid service ID or user ID.', { code: 'INVALID_PARAMETER' });\n            },\n            blocked: 'boolean'\n        });\n        if (isNewsletterSub && !params?.subscription) {\n            params.subscription = this.service;\n        }\n        if (!params.subscriber && !params.subscription) {\n            throw new SkapiError('At least either \"subscriber\" or \"subscription\" should have a value.', { code: 'INVALID_PARAMETER' });\n        }\n        let response = await this.request('get-subscription', params, Object.assign({ auth: !isNewsletterSub }, { fetchOptions }));\n        response.list = response.list.map(_mapper || ((s) => {\n            let subscription = {};\n            let subSplit = s.sub.split('#');\n            subscription.subscriber = subSplit[2];\n            subscription.subscription = subSplit[0];\n            subscription.group = parseInt(subSplit[1]);\n            subscription.timestamp = s.stmp;\n            subscription.blocked = s.grp.substring(0, 1) === 'N';\n            return subscription;\n        }));\n        return response;\n    }\n    async getNewsletters(params, fetchOptions) {\n        let isAdmin = await this.requireAdmin();\n        let searchType = {\n            'message_id': 'string',\n            'timestamp': 'number',\n            'read': 'number',\n            'complaint': 'number',\n            'subject': 'string'\n        };\n        if (!params) {\n            if (!fetchOptions) {\n                fetchOptions = {};\n            }\n            fetchOptions.ascending = false;\n        }\n        let _params = params || {\n            searchFor: 'timestamp',\n            value: 0,\n            condition: '>'\n        };\n        params = checkParams(_params, {\n            searchFor: ['message_id', 'timestamp', 'read', 'complaint', 'group', 'subject'],\n            value: (v) => {\n                if (typeof v !== searchType[_params.searchFor]) {\n                    throw new SkapiError(`\"value\" type does not match the type of \"${_params.searchFor}\" index.`, { code: 'INVALID_PARAMETER' });\n                }\n                else if (typeof v === 'string' && !v) {\n                    throw new SkapiError('\"value\" should not be empty string.', { code: 'INVALID_PARAMETER' });\n                }\n                return v;\n            },\n            range: (v) => {\n                if (!_params.hasOwnProperty('value') || typeof v !== typeof _params.value) {\n                    throw new SkapiError('\"range\" should match type of \"value\".', { code: 'INVALID_PARAMETER' });\n                }\n                return v;\n            },\n            condition: ['>', '>=', '=', '<', '<=', 'gt', 'gte', 'eq', 'lt', 'lte', () => '='],\n            group: (x) => {\n                if (x !== 'newsletter' && !this.session) {\n                    throw new SkapiError('User should be logged in.', { code: 'INVALID_REQUEST' });\n                }\n                if (typeof x === 'string' && x !== 'newsletter') {\n                    throw new SkapiError('Group should be either \"newsletter\" or access group number.', { code: 'INVALID_PARAMETER' });\n                }\n                if (!isAdmin && x > parseInt(this.session.idToken.payload.access_group)) {\n                    throw new SkapiError('User has no access.', { code: 'INVALID_REQUEST' });\n                }\n                if (x === 'newsletter') {\n                    return 0;\n                }\n                return x;\n            }\n        }, ['searchFor', 'value', 'group']);\n        let mails = await this.request(params.group === 0 ? 'get-newsletters' : 'get-serviceletters', params, Object.assign({ method: 'get', auth: params.group !== 0 }, { fetchOptions }));\n        let remap = {\n            'message_id': 'mid',\n            'timestamp': 'stmp',\n            'complaint': 'cmpl',\n            'read': 'read',\n            'subject': 'subj',\n            'bounced': 'bnce',\n            'url': 'url'\n        };\n        let defaults = {\n            'message_id': '',\n            'timestamp': 0,\n            'complaint': 0,\n            'read': 0,\n            'subject': '',\n            'bounced': 0,\n            'url': ''\n        };\n        mails.list = mails.list.map(m => {\n            let remapped = {};\n            for (let k in remap) {\n                remapped[k] = m[remap[k]] || defaults[remap[k]];\n            }\n            return remapped;\n        });\n        return mails;\n    }\n    async signup(form, option) {\n        this.logout();\n        let params = checkParams(form || {}, {\n            email: (v) => validateEmail(v),\n            password: (v) => validatePassword(v),\n            name: 'string',\n            address: 'string',\n            gender: 'string',\n            birthdate: (v) => validateBirthdate(v),\n            phone_number: (v) => validatePhoneNumber(v),\n            email_public: ['boolean', () => false],\n            address_public: ['boolean', () => false],\n            gender_public: ['boolean', () => false],\n            birthdate_public: ['boolean', () => false],\n            phone_number_public: ['boolean', () => false],\n            email_subscription: ['boolean', () => false]\n        }, ['email', 'password']);\n        option = checkParams(option || {}, {\n            confirmation: (v) => {\n                if (typeof v === 'string') {\n                    return validateUrl(v);\n                }\n                else if (typeof v === 'boolean') {\n                    return v;\n                }\n                else {\n                    throw new SkapiError('\"option.confirmation\" should be type: <string | boolean>.', { code: 'INVALID_PARAMETER' });\n                }\n            },\n            login: (v) => {\n                if (typeof v === 'boolean') {\n                    if (option.confirmation && v) {\n                        throw new SkapiError('\"login\" is not allowed when \"option.confirmation\" is true.', { code: 'INVALID_PARAMETER' });\n                    }\n                    return v;\n                }\n                throw new SkapiError('\"option.login\" should be type: boolean.', { code: 'INVALID_PARAMETER' });\n            }\n        });\n        let { login = false, confirmation = false } = option || {};\n        if (!confirmation && params.email_public) {\n            throw new SkapiError('\"option.confirmation\" should be true if \"email_public\" is set to true.', { code: 'INVALID_PARAMETER' });\n        }\n        await this.request(\"signup\", params, { meta: option });\n        if (confirmation) {\n            return \"SUCCESS: The account has been created. User's email confirmation is required.\";\n        }\n        else if (login) {\n            return await this.login({ email: params.email, password: params.password });\n        }\n        else {\n            return 'SUCCESS: The account has been created.';\n        }\n    }\n    logout() {\n        if (this.cognitoUser) {\n            this.cognitoUser.signOut();\n        }\n        let to_be_erased = {\n            'session': null,\n            '__startKey_keys': {},\n            '__cached_requests': {},\n            'user': null\n        };\n        for (let k in to_be_erased) {\n            this[k] = to_be_erased[k];\n        }\n        return 'SUCCESS: The user has been logged out.';\n    }\n    async resendSignupConfirmation(redirect) {\n        if (!this.__request_signup_confirmation) {\n            throw new SkapiError('Least one login attempt is required.', { code: 'INVALID_REQUEST' });\n        }\n        if (redirect) {\n            validateUrl(redirect);\n        }\n        let resend = await this.request(\"confirm-signup\", {\n            username: this.__request_signup_confirmation,\n            redirect\n        });\n        this.__request_signup_confirmation = null;\n        return resend;\n    }\n    async recoverAccount(redirect = false) {\n        if (typeof redirect === 'string') {\n            validateUrl(redirect);\n        }\n        else if (typeof redirect !== 'boolean') {\n            throw new SkapiError('Argument should be type: <boolean | string>.', { code: 'INVALID_REQUEST' });\n        }\n        if (!this.__disabledAccount) {\n            throw new SkapiError('Least one signin attempt of disabled account is required.', { code: 'INVALID_REQUEST' });\n        }\n        let resend = await this.request(\"recover-account\", { username: this.__disabledAccount, redirect });\n        this.__disabledAccount = null;\n        return resend;\n    }\n    async login(form, option) {\n        await this.__connection;\n        this.logout();\n        let params = checkParams(form, {\n            email: (v) => validateEmail(v),\n            password: (v) => validatePassword(v)\n        }, ['email', 'password']);\n        return this.authentication().authenticateUser(params.email, params.password);\n    }\n    verifyAttribute(attribute, code) {\n        if (!this.cognitoUser) {\n            throw new SkapiError('The user has to be logged in.', { code: 'INVALID_REQUEST' });\n        }\n        return new Promise((res, rej) => {\n            let callback = {\n                onSuccess: (result) => {\n                    if (code) {\n                        this.authentication().updateSession({ refreshToken: true }).then(() => {\n                            if (this.__user) {\n                                this.__user[attribute + '_verified'] = true;\n                            }\n                            res(`SUCCESS: \"${attribute}\" is verified.`);\n                        }).catch(err => {\n                            rej(err);\n                        });\n                    }\n                    else {\n                        res('SUCCESS: Verification code has been sent.');\n                    }\n                },\n                onFailure: (err) => {\n                    rej(new SkapiError(err.message || 'Failed to request verification code.', {\n                        code: err?.code\n                    }));\n                },\n                inputVerificationCode: null\n            };\n            if (code) {\n                this.cognitoUser?.verifyAttribute(attribute, code, callback);\n            }\n            else {\n                this.cognitoUser?.getAttributeVerificationCode(attribute, callback);\n            }\n        });\n    }\n    verifyEmail(form, option) {\n        let code = (form ? checkParams(form, {\n            code: ['number', 'string']\n        }) : {}).code || '';\n        return this.verifyAttribute('email', code.toString());\n    }\n    verifyMobile(form, option) {\n        let code = (form ? checkParams(form, {\n            code: ['number', 'string']\n        }) : {}).code || null;\n        return this.verifyAttribute('phone_number', code.toString());\n    }\n    async forgotPassword(form, option) {\n        await this.__connection;\n        let params = checkParams(form, {\n            email: (v) => validateEmail(v)\n        }, ['email']);\n        return new Promise(async (res, rej) => {\n            let cognitoUser = (await this.authentication().createCognitoUser(params.email)).cognitoUser;\n            cognitoUser.forgotPassword({\n                onSuccess: result => {\n                    res(\"SUCCESS: Verification code has been sent.\");\n                },\n                onFailure: (err) => {\n                    rej(new SkapiError(err?.message || 'Failed to send verification code.', { code: err?.code || 'ERROR' }));\n                }\n            });\n        });\n    }\n    resetPassword(form, option) {\n        let params = checkParams(form, {\n            email: (v) => validateEmail(v),\n            code: ['number', 'string'],\n            new_password: (v) => validatePassword(v)\n        }, ['email', 'code', 'new_password']);\n        let code = params.code, new_password = params.new_password;\n        if (typeof code === 'number') {\n            code = code.toString();\n        }\n        return new Promise(async (res, rej) => {\n            let cognitoUser = (await this.authentication().createCognitoUser(params.email)).cognitoUser;\n            cognitoUser.confirmPassword(code, new_password, {\n                onSuccess: result => {\n                    res(\"SUCCESS: New password has been set.\");\n                },\n                onFailure: (err) => {\n                    rej(new SkapiError(err?.message || 'Failed to reset password.', { code: err?.code }));\n                }\n            });\n        });\n    }\n    async disableAccount() {\n        await this.__connection;\n        if (this.__user && Array.isArray(this.__user.services)) {\n            for (let s of this.__user.services) {\n                if (s.active) {\n                    throw new SkapiError('All services needs to be disabled.', { code: 'INVALID_REQUEST' });\n                }\n            }\n        }\n        let result = await this.request('remove-account', { disable: true }, { auth: true });\n        this.logout();\n        return result;\n    }\n    async updateUserSettings(form, option) {\n        await this.__connection;\n        let attr = this.session?.attributes;\n        if (!attr || !this.cognitoUser) {\n            throw new SkapiError('User has to be logged in.', { code: 'INVALID_REQUEST' });\n        }\n        let params = checkParams(form || {}, {\n            email: (v) => validateEmail(v),\n            name: 'string',\n            address: 'string',\n            gender: 'string',\n            birthdate: (v) => validateBirthdate(v),\n            phone_number: (v) => validatePhoneNumber(v),\n            email_public: 'boolean',\n            phone_number_public: 'boolean',\n            address_public: 'boolean',\n            gender_public: 'boolean',\n            birthdate_public: 'boolean',\n            email_subscription: 'boolean',\n            current_password: (v) => validatePassword(v),\n            new_password: (v) => validatePassword(v)\n        });\n        if (params && typeof params === 'object' && !Object.keys(params).length) {\n            return this.__user;\n        }\n        if (params.new_password || params.current_password) {\n            if (!params.current_password) {\n                throw new SkapiError('\"current_password\" is needed to change the password.', { code: 'INVALID_PARAMETER' });\n            }\n            if (!params.new_password) {\n                throw new SkapiError('\"new_password\" is needed to change password.', { code: 'INVALID_PARAMETER' });\n            }\n            if (params.new_password !== params.current_password) {\n                await new Promise((res, rej) => {\n                    this.cognitoUser.changePassword(params.current_password, params.new_password, (err, result) => {\n                        if (err) {\n                            rej(new SkapiError(err?.message || 'Failed to change users password.', { code: err?.code || err?.name }));\n                        }\n                        res(result);\n                    });\n                });\n            }\n            delete params.current_password;\n            delete params.new_password;\n        }\n        if (params.email) {\n            let connect = await this.updateConnection({ request_hash: params.email });\n            params['preferred_username'] = connect.hash;\n        }\n        let collision = [\n            ['email_subscription', 'email_verified', \"User's E-Mail should be verified to set\"],\n            ['email_public', 'email_verified', \"User's E-Mail should be verified to set\"],\n            ['phone_number_public', 'phone_number_verified', \"User's phone number should be verified to set\"]\n        ];\n        if (this.__user) {\n            for (let c of collision) {\n                if (params[c[0]] && !this.__user[c[1]]) {\n                    throw new SkapiError(`${c[2]} \"${c[0]}\" to true.`, { code: 'INVALID_REQUEST' });\n                }\n            }\n        }\n        let customAttr = [\n            'email_public',\n            'phone_number_public',\n            'address_public',\n            'gender_public',\n            'birthdate_public',\n            'email_subscription'\n        ];\n        for (let k in params) {\n            if (params[k] === attr[k]) {\n                delete params[k];\n            }\n            else if (customAttr.includes(k)) {\n                let parseValue = params[k];\n                if (typeof parseValue === 'boolean')\n                    parseValue = parseValue ? '1' : '0';\n                params['custom:' + k] = parseValue;\n                delete params[k];\n            }\n        }\n        if (params && typeof params === 'object' && Object.keys(params).length) {\n            let toSet = [];\n            for (let key in params) {\n                toSet.push(new CognitoUserAttribute({\n                    Name: key,\n                    Value: params[key]\n                }));\n            }\n            await new Promise((res, rej) => {\n                this.cognitoUser?.updateAttributes(toSet, (err, result) => {\n                    if (err) {\n                        rej([\n                            err?.code || err?.name,\n                            err?.message || `Failed to update user settings.`\n                        ]);\n                    }\n                    res(result);\n                });\n            });\n            await this.authentication().updateSession({ refreshToken: true });\n        }\n        return this.__user;\n    }\n    async uploadUserData(form, option) {\n        option = checkParams(option || {}, {\n            private: 'array'\n        });\n        let opt = {\n            auth: true\n        };\n        if (option?.private) {\n            Object.assign(opt, { meta: { '__private__': option.private } });\n        }\n        await this.request('post-userdata', form, opt);\n        await this.authentication().updateSession();\n        return this.__user;\n    }\n    async getUsers(params, fetchOptions) {\n        let isAdmin = await this.requireAdmin({\n            ignoreVerification: true\n        });\n        if (!params) {\n            if (!fetchOptions) {\n                fetchOptions = {};\n            }\n            fetchOptions.ascending = false;\n        }\n        params = params || {\n            searchFor: 'timestamp',\n            condition: '>',\n            value: 0\n        };\n        const searchForTypes = {\n            'user_id': (v) => validateUserId(v),\n            'name': 'string',\n            'email': (v) => validateEmail(v),\n            'phone_number': (v) => validatePhoneNumber(v),\n            'address': 'string',\n            'gender': 'string',\n            'birthdate': (v) => validateBirthdate(v),\n            'locale': (v) => {\n                if (typeof v !== 'string' || typeof v === 'string' && v.length > 5) {\n                    throw new SkapiError('Value of \"locale\" should be a country code.');\n                }\n                return v;\n            },\n            'subscribers': 'number',\n            'timestamp': 'number',\n            'group': 'number',\n            'email_subscription': (v) => {\n                if (!isAdmin) {\n                    throw new SkapiError('Only admin is allowed to search \"email_subscription\".', { code: 'INVALID_REQUEST' });\n                }\n                return v;\n            },\n            'blocked': (v) => {\n                if (v) {\n                    return 'by_admin:suspended';\n                }\n                else {\n                    return 'by_admin:approved';\n                }\n            }\n        };\n        let required = ['searchFor', 'value'];\n        params = checkParams(params, {\n            searchFor: [\n                'user_id',\n                'name',\n                'email',\n                'phone_number',\n                'address',\n                'gender',\n                'birthdate',\n                'locale',\n                'subscribers',\n                'timestamp',\n                'group',\n                'email_subscription',\n                'blocked'\n            ],\n            condition: ['>', '>=', '=', '<', '<=', 'gt', 'gte', 'eq', 'lt', 'lte', () => '='],\n            value: (v) => {\n                let checker = searchForTypes[params.searchFor];\n                if (typeof checker === 'function') {\n                    return checker(v);\n                }\n                else if (typeof v !== checker) {\n                    throw new SkapiError(`Value does not match the type of \"${params.searchFor}\" index.`, { code: 'INVALID_PARAMETER' });\n                }\n                return v;\n            },\n            range: (v) => {\n                let checker = searchForTypes[params.searchFor];\n                if (typeof checker === 'function') {\n                    return checker(v);\n                }\n                else if (typeof v !== checker) {\n                    throw new SkapiError(`Range does not match the type of \"${params.searchFor}\" index.`, { code: 'INVALID_PARAMETER' });\n                }\n                return v;\n            }\n        }, required);\n        if (params?.condition && params?.condition !== '=' && params.hasOwnProperty('range')) {\n            throw new SkapiError('Conditions does not apply on range search.', { code: 'INVALID_PARAMETER' });\n        }\n        if (['user_id', 'blocked'].includes(params.searchFor) && params.condition !== '=') {\n            throw new SkapiError(`Condition is not allowed on \"${params.searchFor}\"`, { code: 'INVALID_PARAMETER' });\n        }\n        if (params.searchFor === 'blocked') {\n            params.searchFor = 'suspended';\n        }\n        if (typeof params?.value === 'string' && !params?.value) {\n            throw new SkapiError('Value should not be an empty string.', { code: 'INVALID_PARAMETER' });\n        }\n        if (typeof params?.searchFor === 'string' && !params?.searchFor) {\n            throw new SkapiError('\"searchFor\" should not be an empty string.', { code: 'INVALID_PARAMETER' });\n        }\n        let isSelfProfile = params.searchFor === 'user_id' && params.value === this.session.idToken.payload.sub;\n        if (isAdmin && !isSelfProfile && !params.service) {\n            throw new SkapiError('Service ID is required.', { code: 'INVALID_PARAMETER' });\n        }\n        let result = await this.request('get-users', params, { auth: true, fetchOptions });\n        if (!result.list[0] || !isSelfProfile || result.list.length > 1) {\n            return result;\n        }\n        let user = result.list[0];\n        Object.assign(user, this.__user);\n        user._what_public_see = JSON.parse(JSON.stringify(user));\n        let public_keys = [\n            'service',\n            'user_id',\n            'name',\n            'locale',\n            'address',\n            'birthdate',\n            'phone_number',\n            'email',\n            'gender',\n            'subscribers',\n            'timestamp',\n            'group',\n            'log',\n            'user_data'\n        ];\n        for (let k in user._what_public_see) {\n            if (!public_keys.includes(k)) {\n                delete user._what_public_see[k];\n            }\n        }\n        return user;\n    }\n    async updateConnection(params) {\n        let request = null;\n        let connectedService = {};\n        if (params?.request_hash) {\n            if (this.__serviceHash[params.request_hash]) {\n                Object.assign(connectedService, { hash: this.__serviceHash[params.request_hash] });\n            }\n            else {\n                request = {\n                    request_hash: validateEmail(params.request_hash)\n                };\n            }\n        }\n        if (!this.connection || this.connection.service !== this.service || request) {\n            if (request === null) {\n                request = {};\n            }\n            Object.assign(request, {\n                service: this.service,\n                service_owner: this.service_owner\n            });\n        }\n        Object.assign(connectedService, (request ? await this.request('service', request, { bypassAwaitConnection: true }) : this.connection));\n        if (params?.request_hash) {\n            this.__serviceHash[params.request_hash] = connectedService.hash;\n        }\n        let connection = JSON.parse(JSON.stringify(connectedService));\n        delete connection.hash;\n        this.connection = connection;\n        return connectedService;\n    }\n}\n__decorate([\n    formResponse()\n], Skapi.prototype, \"postRecord\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"subscribeNewsletter\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"subscribe\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"unsubscribe\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"blockSubscriber\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"unblockSubscriber\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"signup\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"login\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"verifyEmail\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"verifyMobile\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"forgotPassword\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"resetPassword\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"updateUserSettings\", null);\n__decorate([\n    formResponse()\n], Skapi.prototype, \"uploadUserData\", null);\n//# sourceMappingURL=skapi.js.map"],"names":["exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","i","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","length","extraBytes","parts","maxChunkLength","len2","push","encodeChunk","lookup","join","Uint8Array","Array","code","Error","indexOf","start","end","num","output","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","prototype","arg","encodingOrOffset","this","allocUnsafe","from","value","TypeError","ArrayBuffer","array","byteOffset","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","n","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","g","foo","subarray","e","typedArraySupport","poolSize","_augment","Symbol","species","Object","defineProperty","configurable","alloc","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","max","match","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","Infinity","leadSurrogate","trim","replace","stringtrim","base64clean","src","dst","CryptoJS","module","crypto","window","self","globalThis","msCrypto","err","cryptoSecureRandomInt","getRandomValues","Uint32Array","randomBytes","create","F","subtype","C","C_lib","lib","Base","extend","overrides","mixIn","hasOwnProperty","init","$super","instance","properties","propertyName","clone","WordArray","words","sigBytes","encoder","Hex","stringify","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","random","nBytes","C_enc","enc","hexChars","bite","parse","hexStr","hexStrLength","Latin1","latin1Chars","latin1Str","latin1StrLength","Utf8","decodeURIComponent","escape","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","processedWords","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","_doProcessBlock","splice","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","key","HMAC","algo","Base64","map","_map","base64Chars","triplet","charAt","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bitsCombined","parseLoop","HmacSHA256","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","superInit","subInit","typedArray","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","typedArrayByteLength","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","W","SHA256","_hash","M","d","f","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","isLE","mLen","eLen","eMax","eBias","nBits","s","NaN","rt","abs","log","LN2","fetch","factory","result","attributes","decode","converter","api","document","path","defaults","expires","Date","toUTCString","JSON","test","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","name","getJSON","remove","withConverter","Promise","t","r","XMLHttpRequest","o","u","ok","status","statusText","url","responseURL","text","resolve","responseText","then","blob","Blob","response","headers","keys","entries","has","l","open","method","onload","getAllResponseHeaders","onerror","withCredentials","credentials","setRequestHeader","send","body","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","enumerable","Function","prop","toStringTag","AuthenticationDetails","_ref","ValidationData","Username","Password","AuthParameters","ClientMetadata","validationData","authParameters","clientMetadata","username","password","_proto","getUsername","getPassword","getValidationData","getAuthParameters","getClientMetadata","hexStringify","nbi","dbits","inBrowser","navigator","appName","am","w","xl","xh","v","DB","DM","DV","FV","F1","F2","rr","vv","BI_RC","int2char","intAt","nbv","fromInt","nbits","Montgomery","mp","invDigit","mpl","mph","um","mt2","convert","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","reduce","u0","drShiftTo","mulTo","multiplyTo","sqrTo","squareTo","k","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","ONE","qd","addTo","negate","km","p","bitLength","mod","add","subtract","multiply","divide","modPow","callback","z","k1","g2","is1","r2","HEX_MSB_REGEX","AuthenticationHelper","PoolName","N","BigInteger","hexHash","padHex","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","_this","largeAValue","calculateA","hexRandom","generateRandomString","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","_this2","combinedString","hashedString","hash","verifierDevicesNotPadded","_this3","A","calculateU","B","UHexHash","hashHex","computehkdf","ikm","salt","infoBitsWordArray","ikmWordArray","saltWordArray","prk","hmac","getPasswordAuthenticationKey","serverBValue","_this4","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","_this5","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","isNegative","invertedNibbles","invertedNibble","toUpperCase","startsWith","substring","CognitoJwtToken","token","jwtToken","payload","decodePayload","getJwtToken","getExpiration","exp","getIssuedAt","iat","_setPrototypeOf","setPrototypeOf","bind","CognitoAccessToken","_CognitoJwtToken","subClass","superClass","_temp","AccessToken","constructor","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","getToken","CognitoUserSession","ClockDrift","idToken","refreshToken","accessToken","clockDrift","calculateClockDrift","getIdToken","getRefreshToken","getAccessToken","getClockDrift","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","now","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","Value","getValue","setValue","getName","setName","dataMemory","MemoryStorage","setItem","getItem","removeItem","clear","StorageHelper","storageWindow","localStorage","exception","getStorage","userAgent","CognitoUser","Pool","pool","Session","client","signInUserSession","authenticationFlowType","storage","Storage","keyPrefix","getClientId","userDataKey","setSignInUserSession","clearCachedUserData","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","clientMetaData","jsonReq","AuthFlow","ClientId","getUserContextData","UserContextData","request","onFailure","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","onSuccess","authenticateUser","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolName","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","SECRET_BLOCK","signatureString","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","newPasswordRequired","getDeviceResponse","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","forEach","NEW_PASSWORD","_this6","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","clearCachedUser","updateAttributes","_this10","UserAttributes","getUserData","bypassCache","getUserAttributes","userData","attributeList","attribute","userAttribute","getMFAOptions","createGetUserRequest","promisifyRequest","refreshSessionIfPossible","options","_this11","refresh","refreshSession","params","_this12","getUserDataFromCache","isFetchUserDataAndTokenRequired","fetchUserData","_ref$bypassCache","_this13","cacheUserData","deleteAttributes","_this14","UserAttributeNames","resendConfirmationCode","getSession","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","cachedSession","_this15","wrappedCallback","wrapRefreshSessionCallback","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","clearCachedTokens","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","verifyAttribute","Code","getDevice","forgetSpecificDevice","forgetDevice","_this16","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","paginationToken","requestParams","Limit","PaginationToken","globalSignOut","_this17","signOut","revokeTokenCallback","_this18","error","_session","revokeTokens","cleanClientData","isSessionRevocable","revokeToken","origin_jti","_ref2","requestWithRetry","Token","sendMFASelectionAnswer","_this19","associateSoftwareToken","_this20","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this21","UserCode","FriendlyDeviceName","errRespond","dataRespond","BASE_USER_AGENT","Platform","product","isReactNative","UserAgent","_wrapNativeSuper","Class","_cache","Map","fn","Wrapper","_construct","_getPrototypeOf","writable","Parent","args","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","getPrototypeOf","CognitoError","_Error","statusCode","Client","region","endpoint","fetchOptions","operation","reject","maxDelayMs","MAX_DELAY_MS","retry","rej","attempt","delay","jitteredBackoff","assign","mode","cache","resp","__type","pop","Message","ex","functionToRetry","delayFn","retryIn","setTimeout","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","userPoolId","clientId","advancedSecurityDataCollectionFlag","getUserPoolId","signUp","cognitoUser","returnData","user","userConfirmed","UserConfirmed","userSub","UserSub","codeDeliveryDetails","CodeDeliveryDetails","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","SkapiError","super","cause","MD5","static","console","warn","sb","lastA","lastB","lastC","lastD","ff","gg","hh","ii","ad","rh","alphabet","rl","cm","numBlocks","blocks","checkParams","struct","required","bypassCheck","_parentKey","isObjectWithKeys","_params","errToThrow","isInvalid","HTMLFormElement","FormData","extractFormMetaData","meta","structValue","defaultSetter","def","errMsg","form","appendData","append","totalFileSize","files","pair","File","round","FileList","idx","item","inputs","querySelectorAll","textarea","validateUserId","id","param","validatePhoneNumber","validateBirthdate","birthdate","date_regex","RegExp","validatePassword","validateEmail","email","paramName","validateUrl","baseUrl","location","origin","pathname","_baseUrl","check","cu","_url","URL","protocol","href","normalize_record_data","record","record_id","uploaded","reverse","prev","curr","user_id","rSplit","table","access_group","subscription","group","normalize_typed_string","index","reference","tags","updated","config","allow_multiple_reference","reference_limit","referenced_count","private_access","checkWhiteSpaceAndSpecialChars","allowPeriods","allowWhiteSpace","checkStr","formResponse","propertyKey","descriptor","option","handleResponse","action","response_key","timestamp","sessionStorage","searchParams","handleError","is_err","catch","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","Skapi","__user","service_id","service_owner","autoLogin","__disabledAccount","__serviceHash","__pendingRequest","__cached_requests","__startKey_keys","__request_signup_confirmation","__index_number_range","__class_properties_has_been_cached","session","connection","host","hostDomain","userPool","regex","update_startKey_keys","async","hashedParam","fetched","startKey_string","startKey","startKey_list","_fetch","opt","responseType","received","errCode","_get","service","cdn_domain","sreg","admin_endpoint","reader","FileReader","onloadend","readAsDataURL","atob","record_endpoint","__connection","skapi","restore","userpool_id","userpool_client","process","updateConnection","authentication","updateSession","all","storeClassProperties","to_be_cached","addEventListener","currentUser","sessionToMerge","attrErr","normalized_attributes","refreshErr","refreshedSession","createCognitoUser","request_hash","cognitoUsername","logout","initUser","authenticationDetails","logged","ignoreVerification","email_verified","throwError","auth","contentType","paramsStruct","sync","getFormResponse","URLSearchParams","search","stored","bypassAwaitConnection","isExternalUrl","dest","endpoints","admin","public","admin_public","private","admin_private","record_private","record_public","get_ep","getEndpoint","owner","fetOpt","ascending","metaData","isForm","fileKeys","normalize_form","addRequired","isFormEl","formData","cb","requestKey","load_startKey_keys","Authorization","_post","endOfList","hashedParams","orderObjectKeys","sortObject","sort","_obj","hashedParams_cached","list_of_startKeys","last_startKey_key","cache_hashedParams","is_admin","requireAdmin","subscription_group","postData","indexTypes","tp","condition","range","order_by","iSplit","resolved","number_of_records","cnt_rec","number_of_number_values","average_of_number_values","totl_numb","cnt_numb","number_of_boolean_values","average_of_boolean_values","totl_bool","cnt_bool","tag","tSplit","isAdmin","bypassWelcome","subscriptionGroupCheck","subscribe","unsubscribe","block","unblock","getSubscriptions","subscriber","subParams","_mapper","isNewsletterSub","isEmail","blocked","subSplit","stmp","grp","searchType","searchFor","mails","remap","remapped","address","gender","phone_number","email_public","address_public","gender_public","birthdate_public","phone_number_public","email_subscription","confirmation","login","to_be_erased","redirect","resend","verifyEmail","verifyMobile","resetPassword","new_password","services","active","disable","attr","current_password","connect","collision","customAttr","parseValue","toSet","searchForTypes","checker","isSelfProfile","_what_public_see","public_keys","connectedService"],"sourceRoot":""}